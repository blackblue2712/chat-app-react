{"version":3,"sources":["calls/Emitter.js","calls/MediaDevice.js","calls/PeerConnection.js","controllers/UserController.js","controllers/PrivateChat.js","chats/ItemMessage.js","component/Navigation.js","component/TabPanel.js","component/Discussion.js","controllers/ChanelController.js","component/Notify.js","component/CreateChanel.js","component/TemplateWithNavigation.js","calls/VideoCallRequest.js","calls/VideoCallResponse.js","chats/ChatArea.js","component/CardChanel.js","component/TabPanelForChatServer.js","chats/Chanels.js","component/TemplateWithNavigationForChanel.js","component/Discovery.js","chats/ChatServerArea.js","chats/YoutubePlay.js","chats/ChatAnonymous.js","users/Auth.js","PrivateRoute.js","App.js","MainRouter.js","serviceWorker.js","index.js","imgs/867443.jpg","imgs/layd.jpg","imgs/logo.png","imgs/ntf.mp3","imgs/rs-bg.png"],"names":["Emitter","this","events","event","args","forEach","fn","push","_","isFunction","listeners","index","findIndex","_fn","splice","MediaDevice","config","navigator","mediaDevices","getUserMedia","video","facingMode","height","min","ideal","max","audio","then","stream","emit","catch","err","DOMException","alert","console","log","getDisplayMedia","type","on","len","arguments","length","track","state","enabled","set","getTracks","stop","PC_CONFIG","iceServers","urls","PeerConnection","friendID","from","socket","socketIOClient","process","transports","pc","RTCPeerConnection","onicecandidate","to","candidate","ontrack","streams","mediaDevice","isCaller","screen","addTrack","createOffer","startRecordScreen","start","isStarter","close","off","getDescription","bind","createAnswer","desc","setLocalDescription","sdp","rtcSdp","RTCSessionDescription","setRemoteDescription","iceCandidate","RTCIceCandidate","addIceCandidate","getUserById","id","fetch","method","headers","Accept","res","json","isAuthenticated","window","localStorage","getItem","JSON","parse","getMessageIndividualUser","data","token","senderId","receiverId","limit","skip","Authorization","ItemMessage","props","isMe","date","content","photo","contentPhoto","className","src","data-toggle","data-placement","alt","React","Component","Navigation","sigoutAccount","preventDefault","removeItem","history","openModalCreateChanel","document","querySelector","classList","add","e","href","title","name","aria-hidden","width","viewBox","fill","d","onClick","withRouter","TabPanel","showNavigation","nav","getElementById","style","remove","userImage","user","display","settingImage","Logo","children","Discussion","onSubmitFormSearch","searchText","uid","_id","value","findUser","users","setState","activeElement","tabActive","querySelectorAll","Array","map","el","getUsers","listUsers","onSubmit","action","placeholder","username","fullname","email","isActive","match","params","toUid","order","tabIndex","key","postJoinChanel","body","stringify","Notify","ani","element","setTimeout","class","innerHTML","text","clearMess","CreateChanel","postCreateChanel","chanelName","chanelDescription","formData","append","message","previewPhoto","reader","FileReader","inputAvatar","onload","result","readAsDataURL","target","files","closeModalCreateChanel","FormData","htmlFor","autoFocus","required","click","onChange","TemplateWithNavigation","tabPenel","widthRight","VideoCall","peerSrc","localSrc","status","endCall","peerVideo","useRef","localVideo","useState","setVideo","setAudio","useEffect","current","srcObject","toggle","toggleMediaDevice","deviceType","ref","autoPlay","callFrom","startCall","rejectCall","acceptWithVideo","moment","require","ChatArea","callWithVideo","handleSendMessageFromIndividualUser","textMessage","trim","get","orderItemDiscussionToTop","userPayload","messages","concat","scrollToBottom","postSavePrivateMessage","delete","urlContainImage","dataImage","readMessage","handleCreateConnectSocket","userFriend","play","showNewMessageComming","userOnline","userOffline","callModal","currentUnread","Number","showUnReadMessage","sender","a","cb","LIMIT_MESSAGES","SKIP_MESSAGES","listMessage","mes","objMessage","created","receiver","isLoading","getMoreMessageIndividualUser","getTotalUnreadMessages","totalUnreadObject","obj","n","onScrollGetMoreMessages","scrollTop","scrollToTop","scrollIntoView","behavior","ORDER_ITEM_DISCUSSION","onCallVideoStreaming","addEventListener","onEndCallVideoStreaming","count","showTypingAction","uTyping","handlePasteToInput","items","clipboardData","originalEvent","blob","i","indexOf","getAsFile","clearFormDataImage","checkUserEnter","keyCode","toggleDropdown","drdElement","renderMessages","msg","fromNow","onlineUser","clientId","callWindow","startCallHandler","endCallHandler","rejectCallHandler","newState","nextProps","autoComplete","rows","defaultValue","onPaste","isEmpty","VideoCallRequest","VideoCallResponse","NTF_SOUND","CardChanel","joinChanel","cid","cardIcon","cardImg","cardDescription","cardTitle","cardMemerCount","Chanels","chanels","getChanelJoined","cn","chanelId","chanelPhoto","photoIcon","TemplateWithNavigationForChanel","Discovery","onSubmitFind","textSearch","q","response","photoBackground","IMGBG","IMG","x","y","mask","ChatServerArea","getSingleChanel","chanel","getChanelMessages","messageList","sid","onlineUsers","handleSendMessageFromChanel","scrollBy","postSaveChanelMessage","idTabElement","tabElement","item","outline","accept","YoutubePlay","player","startSeconds","onPlayQueue","onPlayQueueName","onPlaying","onPlayingSong","dataEvent","searchYoutube","vid","videoId","playVideo","shift","loadVideoById","listId","listName","getCurrentTime","ChatAnonymous","CHANEL_AN","getIsPlaying","time","playQueue","getPlayQueue","playQueueName","getPlayQueueName","currentSong","getCurrentSong","playerFactory","concatQueue","skipVideo","qn","queue","YouTubePlayer","Auth","handleChangeUI","next","eres","esig","efor","handleSubmit","userInfo","password","callback","payload","setItem","handleRegister","passwordAg","inputRequireDom","getElementsByTagName","slice","ip","position","zIndex","color","paddingLeft","handleSubmitForgot","PrivateRoute","component","rest","render","pathname","location","App","exact","path","MainRouter","Boolean","hostname","ReactDOM","serviceWorker","ready","registration","unregister","module","exports"],"mappings":"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","file":"static/js/main.8612f5bf.chunk.js","sourcesContent":["import _ from 'lodash';\n\nclass Emitter {\n  constructor() {\n    this.events = {};\n  }\n\n  emit(event, ...args) {\n    if (this.events[event]) {\n      this.events[event].forEach(fn => fn(...args));\n    }\n    return this;\n  }\n\n  on(event, fn) {\n    if (this.events[event]) this.events[event].push(fn);\n    else this.events[event] = [fn];\n    return this;\n  }\n\n  off(event, fn) {\n    if (event && _.isFunction(fn)) {\n      const listeners = this.events[event];\n      const index = listeners.findIndex(_fn => _fn === fn);\n      listeners.splice(index, 1);\n    } else this.events[event] = [];\n    return this;\n  }\n}\n\nexport default Emitter;\n","import _ from 'lodash';\nimport Emitter from './Emitter';\n\n/**\n * Manage all media devices\n */\nclass MediaDevice extends Emitter {\n  /**\n   * Start media devices and send stream\n   */\n  start(config) {\n    const constraints = {\n      video: {\n        facingMode: 'user',\n        height: { min: 360, ideal: 720, max: 1080 }\n      },\n      audio: true\n    };\n\n    navigator.mediaDevices\n      .getUserMedia(config || constraints)\n      .then((stream) => {\n        this.stream = stream;\n        this.emit('stream', stream);\n      })\n      .catch((err) => {\n        if (err instanceof DOMException) {\n          alert('Cannot open webcam and/or microphone');\n        } else {\n          console.log(err);\n        }\n      });\n\n    return this;\n  }\n\n  startRecordScreen(config) {\n    const constraints = {\n        video: true,\n        audio: true\n      };\n  \n      navigator.mediaDevices\n        .getDisplayMedia(config || constraints)\n        .then((stream) => {\n          this.stream = stream;\n          this.emit('stream', stream);\n        })\n        .catch((err) => {\n          if (err instanceof DOMException) {\n            alert('Cannot open webcam and/or microphone');\n          } else {\n            console.log(err);\n          }\n        });\n  \n      return this;\n  }\n\n  /**\n   * Turn on/off a device\n   * @param {String} type - Type of the device\n   * @param {Boolean} [on] - State of the device\n   */\n  toggle(type, on) {\n    const len = arguments.length;\n    if (this.stream) {\n      this.stream[`get${type}Tracks`]().forEach((track) => {\n        const state = len === 2 ? on : !track.enabled;\n        _.set(track, 'enabled', state);\n      });\n    }\n    return this;\n  }\n\n  /**\n   * Stop all media track of devices\n   */\n  stop() {\n    if (this.stream) {\n      this.stream.getTracks().forEach(track => track.stop());\n    }\n    return this;\n  }\n}\n\nexport default MediaDevice;\n","import MediaDevice from './MediaDevice';\nimport Emitter from './Emitter';\nimport socketIOClient from 'socket.io-client';\n\nconst PC_CONFIG = { iceServers: [{ urls: ['stun:stun.l.google.com:19302'] }] };\n\nclass PeerConnection extends Emitter {\n  /**\n     * Create a PeerConnection.\n     * @param {String} friendID - ID of the friend you want to call.\n     */\n  constructor(friendID, from) {\n    super();\n    this.socket = socketIOClient(process.env.REACT_APP_API_URL, { transports: ['websocket'] });\n    this.pc = new RTCPeerConnection(PC_CONFIG);\n    this.pc.onicecandidate = event => this.socket.emit('call', {\n      to: this.friendID,\n      from: this.from,\n      candidate: event.candidate\n    });\n    this.pc.ontrack = event => this.emit('peerStream', event.streams[0]);\n\n    this.mediaDevice = new MediaDevice();\n    this.friendID = friendID;\n    this.from  = from;\n  }\n\n  /**\n   * Starting the call\n   * @param {Boolean} isCaller\n   * @param {Object} config - configuration for the call {audio: boolean, video: boolean}\n   */\n  start(isCaller, config, screen) {\n    this.mediaDevice\n      .on('stream', (stream) => {\n        stream.getTracks().forEach((track) => {\n          this.pc.addTrack(track, stream);\n        });\n        this.emit('localStream', stream);\n        if (isCaller) this.socket.emit('request', { to: this.friendID, from: this.from });\n        else this.createOffer();\n      })\n\n      if(screen) {\n        this.mediaDevice.startRecordScreen(config);\n      } else {\n        this.mediaDevice.start(config);\n      }\n      \n\n    return this;\n  }\n\n\n  /**\n   * Stop the call\n   * @param {Boolean} isStarter\n   */\n  stop(isStarter) {\n    if (isStarter) {\n        this.socket.emit('end', { to: this.friendID, from: this.from });\n    }\n    this.mediaDevice.stop();\n    this.pc.close();\n    this.pc = null;\n    this.off();\n    return this;\n  }\n\n  createOffer() {\n    this.pc.createOffer()\n      .then(this.getDescription.bind(this))\n      .catch(err => console.log(err));\n    return this;\n  }\n\n  createAnswer() {\n    this.pc.createAnswer()\n      .then(this.getDescription.bind(this))\n      .catch(err => console.log(err));\n    return this;\n  }\n\n  getDescription(desc) {\n    this.pc.setLocalDescription(desc);\n    this.socket.emit('call', { to: this.friendID, from: this.from, sdp: desc });\n    return this;\n  }\n\n  /**\n   * @param {Object} sdp - Session description\n   */\n  setRemoteDescription(sdp) {\n    const rtcSdp = new RTCSessionDescription(sdp);\n    this.pc.setRemoteDescription(rtcSdp);\n    return this;\n  }\n\n  /**\n   * @param {Object} candidate - ICE Candidate\n   */\n  addIceCandidate(candidate) {\n    if (candidate) {\n      const iceCandidate = new RTCIceCandidate(candidate);\n      this.pc.addIceCandidate(iceCandidate);\n    }\n    return this;\n  }\n}\n\nexport default PeerConnection;\n","export const getUsers = (uid) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/users/list/${uid}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR GET USERS\");\n    })\n}\n\nexport const adminGetUsers = (uid) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/users/admin/list/${uid}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR GET USERS\");\n    })\n}\n\nexport const getLoggedUser = (id, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/users/profile/${id}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(`ERROR POST LOGGED USER ${err}`);\n    });\n}\n\nexport const getUserById = (id) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/users/${id}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\",\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(`ERROR POST LOGGED USER ${err}`);\n    });\n}\n\n\nexport const postSignup = (userInfo) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/auth/signup`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        },\n        body: JSON.stringify(userInfo)\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(`POST SIGNUP ERROR`);\n    });\n}\n\nexport const postSignin = (userInfo) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/auth/signin`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        },\n        body: JSON.stringify(userInfo)\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"POST SIGNIN ERROR\");\n    })\n}\n\nexport const authenticate = (data, callback) => {\n    window.localStorage.setItem(\"jwt\", JSON.stringify(data));\n    callback();\n}\n\nexport const isAuthenticated = () => {\n    if(window.localStorage.getItem(\"jwt\")) {\n        return JSON.parse(window.localStorage.getItem(\"jwt\"));\n    }\n    return false;\n}\n\n\n\nexport const putUpdateInfo = (userInfo, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/users/info/${userInfo.get(\"id\")}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"Application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: userInfo\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"PUT UPDATE INFO\");\n    })\n}\n\nexport const getSignout = () => {\n    return fetch(`${process.env.REACT_APP_API_URL}/auth/signout`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"GET SIGN OUT\");\n    })\n}\n\nexport const followUser = (followId) => {\n    console.log(followId)\n    return fetch(`${process.env.REACT_APP_API_URL}/users/follow/${followId.followedId}`, {\n        method: \"PUT\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        },\n        body: JSON.stringify(followId)\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"PUT UPDATE STORY\");\n    })\n}\n\nexport const findUser = (name, uid) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/users/find?name=${name}&&uid=${uid}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"FIND USER\");\n    })\n}\n","export const getMessageIndividualUser = (data, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/pm/messages?senderId=${data.senderId}&receiverId=${data.receiverId}&limit=${data.limit}&skip=${data.skip}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR GET PM\");\n    });\n}\n\nexport const postSavePrivateMessage = (data, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/pm/new-message`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"Application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: data\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR POST PRIVATE MESSAGE\");\n    });\n}\n\nexport const getTotalUnreadMessages = (uid, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/pm/messages/unread?uid=${uid}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            Authorization: `Bearer ${token}`,\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR GET TOTAL UNREAD MESSAGES\");\n    });\n}\n\n\nexport const readMessage = (uid, sender) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/pm/messages/read?receiver=${uid}&sender=${sender}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n        }\n    })\n    .catch( err => {\n        console.log(\"ERROR GET TOTAL UNREAD MESSAGES\");\n    });\n}\n\n","import React from 'react';\n\nclass ItemMessage extends React.Component {\n\n    render() {\n        let { isMe, date, content, photo, contentPhoto } = this.props;\n\n        return (\n            <div className={`message ${isMe}`}>\n                {!isMe && <img className=\"avatar-md\" src={photo} data-toggle=\"tooltip\" data-placement=\"top\" alt=\"avatar\" />}\n                <div className=\"text-main\">\n                    <div className={`text-group ${isMe}`}>\n                        {\n                        content &&\n                            <div className={`text ${isMe}`}>\n                                <p>{content}</p>\n                            </div>\n                        }\n                    </div>\n                    {contentPhoto && <img className=\"content-photo\" src={contentPhoto} alt=\"content-Photo\" />}\n                    <span>{date}</span>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ItemMessage;","import React from 'react';\nimport { Link, withRouter } from \"react-router-dom\";\nimport  { getSignout } from '../controllers/UserController';\n\nimport \"./Navigation.css\";\n\nclass Navigation extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            \n        }\n    }\n\n    sigoutAccount = () => {\n        window.event.preventDefault();\n        getSignout()\n        .then( (res) => {\n            localStorage.removeItem(\"jwt\");\n            this.props.history.push(\"/auth\");\n        })\n    }\n    \n    openModalCreateChanel = () => {\n        try {\n            let modal = document.querySelector(\".layout-modal\");\n            modal.classList.add(\"active\");\n        } catch(e) { console.log(e) }\n    }\n\n    \n\n    render() {\n        return (\n            <div className=\"navigation\">\n                <div className=\"container\">\n                    <div className=\"inside\">\n                        <div className=\"nav nav-tab menu\">\n                            <a href=\"#settings\" data-toggle=\"tab\" title=\"User Setting\" className=\"\">\n                                <i className=\"ti-panel\"></i>\n                                Setting\n                            </a>\n                            <a href=\"#members\" data-toggle=\"tab\" title=\"All members\" className=\"active show\">\n                                <i className=\"ti-home active\"></i>\n                                All Friends\n                            </a>\n                            <Link to=\"/\" data-toggle=\"tab\" className=\"\" title=\"Chat\">\n                                <i className=\"ti-comment-alt\"></i>\n                                Recent Chat\n                            </Link>\n                            <a href=\"#notifications\" data-toggle=\"tab\" className=\"f-grow1\" title=\"Notifications\">\n                                <i className=\"ti-bell\"></i>\n                                Notifications\n                            </a>\n                            <Link to=\"/discovery\" data-toggle=\"tab\" className=\"f-grow1\" title=\"Notifications\">\n                                <svg name=\"Search\" aria-hidden=\"false\" width=\"30\" height=\"30\" viewBox=\"0 0 18 18\"><g fill=\"none\" aria-hidden=\"true\"><path fill=\"currentColor\" d=\"M3.60091481,7.20297313 C3.60091481,5.20983419 5.20983419,3.60091481 7.20297313,3.60091481 C9.19611206,3.60091481 10.8050314,5.20983419 10.8050314,7.20297313 C10.8050314,9.19611206 9.19611206,10.8050314 7.20297313,10.8050314 C5.20983419,10.8050314 3.60091481,9.19611206 3.60091481,7.20297313 Z M12.0057176,10.8050314 L11.3733562,10.8050314 L11.1492281,10.5889079 C11.9336764,9.67638651 12.4059463,8.49170955 12.4059463,7.20297313 C12.4059463,4.32933105 10.0766152,2 7.20297313,2 C4.32933105,2 2,4.32933105 2,7.20297313 C2,10.0766152 4.32933105,12.4059463 7.20297313,12.4059463 C8.49170955,12.4059463 9.67638651,11.9336764 10.5889079,11.1492281 L10.8050314,11.3733562 L10.8050314,12.0057176 L14.8073185,16 L16,14.8073185 L12.2102538,11.0099776 L12.0057176,10.8050314 Z\"></path></g></svg>\n                                Discovery\n                            </Link>\n                            <Link onClick={this.openModalCreateChanel} to=\"#add-chanel\" data-toggle=\"tab\" className=\"f-grow1\" title=\"Notifications\">\n                                <svg name=\"Nova_Add\" className=\"circleIcon add-chanel\" aria-hidden=\"false\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path fill=\"currentColor\" d=\"M21 11.001H13V3.00098H11V11.001H3V13.001H11V21.001H13V13.001H21V11.001Z\"></path></svg>\n                            </Link>                            \n                            <Link onClick={this.sigoutAccount} to=\"#sign-out\" className=\"btn power\" title=\"Sign Out\"><i className=\"ti-power-off\"></i></Link>\n\n                            \n                        </div>\n                    </div>\n                </div>\n                \n            </div>\n        )\n    }\n}\n\nexport default withRouter(Navigation);","import React from 'react';\nimport settingImage from '../imgs/867443.jpg';\nimport Logo from '../imgs/logo.png';\nimport { isAuthenticated } from '../controllers/UserController';\n\nclass TabPanel extends React.Component {\n\n    showNavigation = () => {\n        // this.setState()\n\n        let nav = document.querySelector(\"#wrap-left .navigation\") || {};\n        if (nav.classList.length > 1) {\n            document.getElementById(\"wrap-right\").style.width = \"calc(100% - 369px)\";\n            nav.classList.remove(\"active\");\n        } else {\n            nav.classList.add(\"active\");\n            document.getElementById(\"wrap-right\").style.width = \"calc(100% - 370px - 95px)\";\n        }\n    }\n\n    render() {\n        let userImage = isAuthenticated().user.photo;\n        let display = this.props.display;\n        return (\n            <div className={`container tab-panel ${display}`}>\n                <div className=\"panel\">\n                    <div className=\"setting\" onClick={this.showNavigation}>\n                        <img className=\"border-radius-50\" width={45} height={45} src={userImage || settingImage} alt=\"img-setting\" />\n                    </div>\n                    <div className=\"logo\">\n                        <img src={Logo} alt=\"brand-logo\" />\n                    </div>\n                    {this.props.children}\n\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default TabPanel;","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport settingImage from '../imgs/867443.jpg';\nimport { isAuthenticated, getUsers, findUser } from '../controllers/UserController';\n\n\nclass Discussion extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            users: [],\n        }\n\n    }\n\n    componentDidMount() {\n        try {\n            let uid = isAuthenticated().user._id;\n            getUsers(uid)\n                .then(res => {\n                    this.setState({ users: res });\n                })\n        } catch (e) { console.log(e) }\n    }\n\n\n    onSubmitFormSearch = (e) => {\n        e.preventDefault();\n        let searchText = document.querySelector(\"#search-friend\");\n        let uid = isAuthenticated().user._id;\n        if(searchText.value.length > 0) {\n            findUser(searchText.value, uid)\n                .then(users => {\n                    this.setState({ users });\n                })\n        }\n    }\n\n    activeElement = (id) => {\n        let tabActive = document.querySelectorAll(\".item-discussions.active\");\n        Array.from(tabActive).map(el => { el.classList.remove(\"active\") });\n        document.getElementById(id).classList.add(\"active\")\n    }\n\n    render() {\n        let listUsers = this.state.users;\n\n        return (\n            <>\n                <div className=\"search\">\n                    <form onSubmit={this.onSubmitFormSearch} action=\"#\" name=\"search-friend-form\" id=\"search-friend-form\">\n                        <input type=\"text\" id=\"search-friend\" placeholder=\"Search for conservations ...\" />\n                        <button className=\"button button-link\">\n                            <svg style={{ fill: '#2298ff' }} aria-hidden=\"true\" className=\"svg-icon s-input-icon s-input-icon__search iconSearch\" width={16} height={16} viewBox=\"0 0 18 18\"><path d=\"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\" /></svg>\n                        </button>\n                    </form>\n                </div>\n                <div className=\"discussions\" id=\"scroller\">\n                    <h1>Chats</h1>\n                    <div className=\"list-group chats\" id=\"chats\">\n                        {\n                            listUsers.map((user, index) => {\n                                let username = user.fullname || user.email;\n                                let isActive = user._id === this.props.match.params.toUid ? \"active\" : \"\";\n                                return <Link onClick={() => this.activeElement(`dcs_${user._id}`)} title={username} style={{ order: index + 1 }} id={`dcs_${user._id}`} tabIndex={index} key={index} to={`/chanels/@me/${user._id}`} className={`item-discussions single unread ${isActive}`}>\n                                    <img className=\"avatar-md\" src={user.photo || settingImage} alt=\"avt\" />\n                                    <div className=\"status\" />\n                                    <div className=\"data\">\n                                        <h5>{username}</h5>\n                                        <div className=\"count-unread\">\n                                            <div className=\"new bg-red\"><span>0</span></div>\n                                        </div>\n\n                                        {/* <span>Sun</span>\n                                    <p>How can i improve my chances?</p> */}\n                                    </div>\n                                </Link>\n                            })\n                        }\n\n                        <div className=\"scroller\" />\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nexport default withRouter(Discussion);\n","export const getChanels = () => {\n    return fetch(`${process.env.REACT_APP_API_URL}/chanels`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR GET CHANELS\");\n    });\n}\n\nexport const getChanelJoined = uid => {\n    return fetch(`${process.env.REACT_APP_API_URL}/chanels/joined?uid=${uid}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR GET CHANELS\");\n    });\n}\n\nexport const postJoinChanel = (data, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/chanels/join`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: JSON.stringify(data)\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR POST JOIN CHANEL\");\n    });\n}\n\nexport const getSingleChanel = (cid) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/chanels/${cid}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR GET SINGLE CHANELS\");\n    });\n}\n\nexport const getChanelMessages = (data, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/chanels/messages/${data.cid}?limit=${data.limit}&skip=${data.skip}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\",\n            Authorization: `Bearer ${token}`\n        }\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR GET CHANELS MESSAGES\");\n    });\n}\n\nexport const postCreateChanel = (data, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/chanels/create`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"Application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: data\n    })\n    .then( res => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR POST CREATE CHANEL\");\n    });\n}\n\nexport const postSaveChanelMessage = (data, token) => {\n    return fetch(`${process.env.REACT_APP_API_URL}/chanels/new-message`, {\n        method: \"POST\",\n        headers: {\n            Accept: \"Application/json\",\n            Authorization: `Bearer ${token}`\n        },\n        body: data\n    })\n    .then( (res) => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR POST CHANEL MESSAGE\");\n    });\n}\n\nexport const searchYoutube = q => {\n    return fetch(`${process.env.REACT_APP_API_URL}/youtube?q=${q}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Applcation/json\"\n        }\n    })\n    .then( (res) => {\n        return res.json();\n    })\n    .catch( err => {\n        console.log(\"ERROR GET SEARCH YOUTUBE\");\n    });\n}\n\nexport const findDiscovery = q => {\n    return fetch(`${process.env.REACT_APP_API_URL}/chanels/find?q=${q}`, {\n        method: \"GET\",\n        headers: {\n            Accept: \"Application/json\",\n            \"Content-Type\": \"Application/json\"\n        }\n    })\n    .then( res => res.json() )\n    .catch(err => console.log(\"ERROR GET FIND CHANEL\"))\n}","import React, { Component } from 'react';\n\n\nclass Notify extends Component {\n\n    ani = () => {\n        let element = document.getElementById(\"notify\");\n        if(element) {\n            setTimeout( () => {\n            \n                element.classList.add(\"off\");\n            }, 5000);\n    \n            setTimeout( () => {\n                element.classList.remove(\"on\");\n                element.classList.remove(\"off\");\n            }, 5190);\n        }\n    }\n    \n    render() {\n        if(this.props.class === \"on\") {\n            document.getElementById(\"notify\").classList.add(\"on\");\n            document.querySelector(\"#notify span\").innerHTML = this.props.text;\n            this.ani();\n            this.props.clearMess(\"\");\n        }\n        return (\n            <div id=\"notify\" className={`notify`}>\n                <div className=\"notify--body\">\n                    <span></span>\n                </div>\n            </div>\n        ) \n    }\n}\n\nexport default Notify;\n","import React from 'react';\nimport { postCreateChanel } from '../controllers/ChanelController';\nimport { isAuthenticated } from '../controllers/UserController';\nimport Notify from '../component/Notify';\n\nclass CreateChanel extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            message: \"\"\n        }\n\n        this.formData = new FormData();\n    }\n\n    postCreateChanel = () => {\n        try {\n            let chanelName = document.getElementById(\"chanel-name\").value;\n            let chanelDescription = document.getElementById(\"chanel-description\").value;\n            let token = isAuthenticated().token;\n\n            this.formData.append(\"chanelName\", chanelName);\n            this.formData.append(\"chanelDescription\", chanelDescription);\n\n            postCreateChanel(this.formData, token)\n            .then( res => {\n                console.log(res)\n                this.setState( {message: res.message} );\n            })\n            .catch( err => {\n                console.log(err);\n            })\n        } catch (e) { console.log(e) }\n    }\n\n    previewPhoto = (event) => {\n        let reader = new FileReader();\n        let inputAvatar = document.getElementById('chanel-photo-background');\n        reader.onload = function () {\n            inputAvatar.src = reader.result;\n        }\n        try {\n            reader.readAsDataURL(event.target.files[0]);\n            this.formData.append(\"photoBackground\", event.target.files[0]);\n        } catch(e) {\n            // do nothing\n        }\n    }\n\n    \n\n    closeModalCreateChanel = () => {\n        try {\n            let modal = document.querySelector(\".layout-modal\");\n            modal.classList.remove(\"active\");\n        } catch(e) { console.log(e) }\n    }\n    \n    clearMess = () => {\n        this.setState( {message: \"\"} )\n    }\n\n    render() {\n        let { message } = this.state;\n        return (\n            <div className=\"layout-modal\">\n                <Notify />\n                {message !== \"\" &&  <Notify class=\"on\" text={message} clearMess={this.clearMess} />}\n                <div className=\"modal modal-add-chanel\">\n                    <div className=\"modal-header\">\n                        <h5>CREATE YOUR CHANEL</h5>\n                        <p>By creating a chanel, people can access to free voice and text chat for exchange information about styudy or what ever.</p>\n                    </div>\n                    <div className=\"modal-body\">\n                        <div className=\"madal-body-main\">\n                            <div className=\"container-input\">\n                                <div className=\"post-title\">\n                                    <label htmlFor=\"chanel-name\">CHANEL NAME</label>\n                                    <input type=\"text\" className=\"s-input w-100\" id=\"chanel-name\" autoFocus required />\n                                </div>\n                                <div className=\"post-title\">\n                                    <label htmlFor=\"chanel-name\">CHANEL DESCRIPTION</label>\n                                    <input type=\"text\" className=\"s-input w-100\" id=\"chanel-description\"></input>\n                                </div>\n                            </div>\n                            <div className=\"container-photo\">\n                                <label htmlFor=\"photoBackground\" onClick={() => document.getElementById(\"photoBackground\").click()}>\n                                    <input onChange={this.previewPhoto} className=\"d-none\" type=\"file\" name=\"photoBackground\" id=\"photoBackground\" />\n                                    <button className=\"s-btn btn-change-avatar ps-relative\">\n                                        <img className=\"chanel-photo-background\" id=\"chanel-photo-background\" src=\"https://res.cloudinary.com/dged6fqkf/image/upload/v1581173169/jbwkupd6wxap1udmgfmz.png\" alt=\"chanle-background\" />\n\n                                    </button>\n                                </label>\n                            </div>\n                        </div>\n                        <div className=\"help-text\">\n                            By creating a chanel, you agree to Liars's\n                                            <strong>Community Guidelines</strong>\n                        </div>\n                    </div>\n                    <div className=\"modal-bottom\">\n                        <button onClick={this.closeModalCreateChanel} className=\"close-modal\">Close</button>\n                        <button onClick={this.postCreateChanel} className=\"accept-modal loading\">Create</button>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default CreateChanel;","import React from 'react';\nimport Navigation from './Navigation';\nimport TabPanel from './TabPanel';\nimport Discussion from './Discussion';\nimport CreateChanel from './CreateChanel';\n\nclass TemplateWithNavigation extends React.Component {\n\n    render() {\n        return (\n            <>\n                <CreateChanel />\n                <div id=\"wrap-left\">\n                    <Navigation />\n                    <TabPanel display={this.props.tabPenel || \"block\"} >\n                        <Discussion />\n                    </TabPanel>\n                </div>\n                <div id=\"wrap-right\" style={{width: this.props.widthRight}}>\n                    <div className=\"container tab-content\" id=\"nav-tabContent\">\n                        {this.props.children}\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nexport default TemplateWithNavigation;","import React, { useState, useRef, useEffect } from 'react';\nimport \"./VideoCall.css\";\n\n\nfunction VideoCall({ peerSrc, localSrc, config, mediaDevice, status, endCall }) {\n    const peerVideo = useRef(null);\n    const localVideo = useRef(null);\n    const [video, setVideo] = useState(config.video);\n    const [audio, setAudio] = useState(config.audio);\n\n    useEffect(() => {\n        if (peerVideo.current && peerSrc) {\n            peerVideo.current.srcObject = peerSrc;\n        }\n        if (localVideo.current && localSrc) {\n            localVideo.current.srcObject = localSrc;   \n        }\n    });\n\n    useEffect(() => {\n        if (mediaDevice) {\n            mediaDevice.toggle('Video', video);\n            mediaDevice.toggle('Audio', audio);\n        }\n    });\n\n    /**\n   * Turn on/off a media device\n   * @param {String} deviceType - Type of the device eg: Video, Audio\n   */\n    const toggleMediaDevice = (deviceType) => {\n        if (deviceType === 'video') {\n        setVideo(!video);\n        mediaDevice.toggle('Video');\n        }\n        if (deviceType === 'audio') {\n        setAudio(!audio);\n        mediaDevice.toggle('Audio');\n        }\n    };\n    \n    return (\n        <div className={`call ${status}`} id=\"call-request\">\n            <video id=\"call-local-video\" ref={localVideo} autoPlay></video>\n            <video id=\"call-remote-video\" ref={peerVideo} autoPlay></video>\n            <div className=\"content\">\n                <div className=\"container\">\n                    <div className=\"inside\">\n                        <div className=\"panel\">\n                            <div className=\"participant\">\n                                {/* <img className=\"avatar-call\" src=\"https://res.cloudinary.com/dged6fqkf/image/upload/v1581173169/jbwkupd6wxap1udmgfmz.png\" alt=\"avatar\" />\n                                <span>Connecting to Sarah</span> */}\n                                {/* <div className=\"wave\">\n                                    <span className=\"dot\"></span>\n                                    <span className=\"dot\"></span>\n                                    <span className=\"dot\"></span>\n                                </div> */}\n                            </div>\n                            <div className=\"options\">\n                                <button onClick={() => toggleMediaDevice(\"audio\")} className={`btn option ${audio}`}><i className=\"ti-microphone\"></i></button>\n                                <button onClick={() => toggleMediaDevice(\"video\")} className={`btn option ${video}`}><i className=\"ti-video-camera\"></i></button>\n                                <button className=\"btn option\"><i className=\"ti-user\"></i></button>\n                                <button className=\"btn option\"><i className=\"ti-volume\"></i></button>\n                                <button className=\"btn option\"><i className=\"ti-comment\"></i></button>\n                            </div>\n                            <button onClick={() => endCall(true)} id=\"end-call-video\" className=\"btn option call-end\"><i className=\"ti-close\"></i></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default VideoCall;","import React from 'react';\nimport \"./VideoCall.css\";\n\n\nfunction VideoCall({ status, callFrom, startCall, rejectCall }) {\n    const acceptWithVideo = (video, screen) => {\n        const config = { audio: true, video };\n        return () => startCall(false, callFrom, config, screen);\n    };\n    return (\n        <div className={`call ${status}`} id=\"call-response\">\n            <div className=\"content\">\n                <div className=\"container\">\n                    <div className=\"inside\">\n                        <div className=\"panel\">\n                            <div className=\"participant\">\n                                <img className=\"avatar-call\" src=\"https://res.cloudinary.com/dged6fqkf/image/upload/v1581173169/jbwkupd6wxap1udmgfmz.png\" alt=\"avatar\" />\n                                <span>Connecting to Sarah {callFrom}</span>\n                                <div className=\"wave\">\n                                    <span className=\"dot\"></span>\n                                    <span className=\"dot\"></span>\n                                    <span className=\"dot\"></span>\n                                </div>\n                            </div>\n                            <div className=\"options\">\n                                <button onClick={acceptWithVideo(false)} className=\"btn option\"><i className=\"ti-microphone\"></i></button>\n                                <button onClick={acceptWithVideo(true)} className=\"btn option\"><i className=\"ti-video-camera\"></i></button>\n                                <button onClick={acceptWithVideo(true, true)} className=\"btn option\"><i className=\"ti-layout-media-left-alt\"></i></button>\n                                <button className=\"btn option\"><i className=\"ti-volume\"></i></button>\n                                <button className=\"btn option\"><i className=\"ti-comment\"></i></button>\n                            </div>\n                            <button onClick={rejectCall} id=\"reject-call-video\" className=\"btn option call-end\"><i className=\"ti-close\"></i></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default VideoCall;","import React from 'react';\nimport _ from 'lodash';\nimport PeerConnection from '../calls/PeerConnection';\nimport socketIOClient from 'socket.io-client';\nimport { withRouter } from 'react-router-dom';\nimport { getUserById, isAuthenticated } from '../controllers/UserController';\nimport { getMessageIndividualUser, postSavePrivateMessage, getTotalUnreadMessages, readMessage } from '../controllers/PrivateChat';\n\nimport ItemMessage from '../chats/ItemMessage';\nimport Template from '../component/TemplateWithNavigation';\nimport VideoCallRequest from '../calls/VideoCallRequest';\nimport VideoCallResponse from '../calls/VideoCallResponse';\nimport NTF_SOUND from '../imgs/ntf.mp3';\n\n// import socket from \"../socket\";\n\nconst moment = require(\"moment\");\n\nclass ChatArea extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            messages: [],\n            isLoading: true,\n            onlineUser: [],\n            userFriend: {},\n\n            clientId: '',\n            callWindow: '',\n            callModal: '',\n            callFrom: '',\n            localSrc: null,\n            peerSrc: null\n        }\n        this.toUid = null;\n        this.formData = new FormData();\n\n        this.ORDER_ITEM_DISCUSSION = 0;\n        this.LIMIT_MESSAGES = 10;\n        this.SKIP_MESSAGES = 0;\n\n        this.pc = {};\n        this.config = null;\n\n        this.startCallHandler = this.startCall.bind(this);\n        this.endCallHandler = this.endCall.bind(this);\n        this.rejectCallHandler = this.rejectCall.bind(this);\n      \n    }\n\n    async componentDidMount() {\n        try {\n            this.toUid = this.props.match.params.toUid;\n            \n            let uid = this.props.userPayload.user._id;\n            let name = this.props.userPayload.user.fullname || this.props.userPayload.user.email;\n            let token = this.props.userPayload.token;\n\n            window.onload = () => {\n                this.scrollToBottom();\n                document.querySelector(\"#chat-area .content .container\").addEventListener(\"scroll\", this.onScrollGetMoreMessages);\n                document.getElementById(\"text-message\").addEventListener(\"keyup\", this.checkUserEnter);\n            }\n            // get list messages & total unread messages\n            this.getMessageIndividualUser();\n            this.getTotalUnreadMessages(uid, token);\n            // get user that send message to\n            let userFriend = await getUserById(this.toUid);\n            this.setState({ userFriend })\n\n            this.handleCreateConnectSocket({ uid, name }, userFriend);\n            \n        } catch (e) { console.log(e) }\n    }\n\n        // onTypingAction = () => {\n        //     let uid = this.props.userPayload.user._id;\n        //     this.socket.emit(\"typing-action\", { to: this.toUid, from: uid }, () => {\n        //         this.setState({ messages: this.state.messages.concat({ isMe: \"me\", content: textMessage.value }) });\n        //         textMessage.value = \"\";\n        //         this.scrollToBottom();\n        //     });\n\n        // }\n\n    \n\n    callWithVideo = (video, screen) => {\n        const config = { audio: true, video };\n        return () => this.startCall(true, this.toUid, config, screen);\n    }\n\n    startCall(isCaller, friendID, config, screen) {\n        this.config = config;\n        this.pc = new PeerConnection(friendID, this.props.userPayload.user._id)\n            .on('localStream', (src) => {\n                const newState = { callWindow: 'on', localSrc: src };\n                if (!isCaller) newState.callModal = '';\n                this.setState(newState);\n            })\n            .on('peerStream', src => this.setState({ peerSrc: src }))\n            .start(isCaller, config, screen);\n    }\n\n    rejectCall() {\n        const { callFrom } = this.state;\n        this.socket.emit('end', { to: callFrom });\n        this.setState({ callModal: '' });\n    }\n\n    endCall(isStarter) {\n        if (_.isFunction(this.pc.stop)) {\n            this.pc.stop(isStarter);\n        }\n        this.pc = {};\n        this.config = null;\n        this.setState({\n            callWindow: '',\n            callModal: '',\n            localSrc: null,\n            peerSrc: null\n        });\n    }\n\n    componentWillUnmount() {\n\t    if(isAuthenticated()) {\n\t        this.socket.emit(\"user-offline\", isAuthenticated().user._id)\t\n\t    }\n    }\n\n    componentDidUpdate() {\n        this.scrollToBottom();\n        document.querySelector(\"#chat-area .content .container\").addEventListener(\"scroll\", this.onScrollGetMoreMessages);\n    }\n\n    async componentWillReceiveProps(nextProps) {\n        try {\n            if(this.toUid !== nextProps.match.params.toUid) {\n                this.setState({ isLoading: true })\n                this.SKIP_MESSAGES = 0;\n                this.toUid = nextProps.match.params.toUid;\n                document.getElementById(\"text-message\").addEventListener(\"keyup\", this.checkUserEnter);\n                // this.orderItemDiscussionToTop(toUid);\n    \n                let uid = this.props.userPayload.user._id;\n                let name = this.props.userPayload.user.fullname || this.props.userPayload.user.email;\n                // get list messages\n                this.setState({ messages: [] });\n                this.getMessageIndividualUser();\n                // get user that send message to\n                let userFriend = await getUserById(this.toUid);\n                this.setState({ userFriend });\n    \n    \n                this.handleCreateConnectSocket({ uid, name }, userFriend);\n            }\n        } catch (e) { console.log(e) }\n    }\n\n    handleSendMessageFromIndividualUser = () => {\n        try {\n            window.event.preventDefault();\n            let textMessage = document.getElementById(\"text-message\");\n            if (textMessage.value.trim() || this.formData.get(\"photo\")) {\n\n                document.querySelector(\".preview-image #preview\").src = \"\";\n                document.querySelector(\".preview-image\").classList.remove(\"on\");\n\n                this.orderItemDiscussionToTop(this.toUid);\n\n                let uid = this.props.userPayload.user._id;\n                // let name = this.props.userPayload.user.fullname || this.props.userPayload.user.email;\n                let photo = this.props.userPayload.user.photo;\n                let token = this.props.userPayload.token;\n\n                // emit event\n                this.socket.emit(\"client-send-message-from-individual-user\", { to: this.toUid, message: textMessage.value.trim(), photo, from: uid }, () => {\n                    this.setState({ messages: this.state.messages.concat({ isMe: \"me\", content: textMessage.value }) });\n                    textMessage.value = \"\";\n                    this.scrollToBottom();\n                });\n\n\n                // save private message to db\n                this.formData.append(\"sender\", uid);\n                this.formData.append(\"receiver\", this.toUid);\n                this.formData.append(\"content\", textMessage.value);\n                postSavePrivateMessage(this.formData, token)\n                    .then((res) => {\n                        console.log(res)\n                        this.formData.delete(\"photo\");\n                        if (res && res.urlContainImage) {\n                            let dataImage = {\n                                to: this.toUid,\n                                from: uid,\n                                photo,\n                                contentPhoto: res.urlContainImage,\n                                isMe: \"me\"\n                            }\n                            this.setState({\n                                messages: this.state.messages.concat(dataImage)\n                            });\n\n                            this.socket.emit(\"client-send-message-contain-image-from-individual-user\", dataImage, () => {\n\n                            });\n                        }\n                    })\n                    .catch(err => console.log(err));\n\n                    this.readMessage(uid);\n            }\n\n        } catch (e) { console.log(e) }\n    }\n\n    handleCreateConnectSocket = (data, userFriend) => {\n        try {\n            this.socket = socketIOClient(process.env.REACT_APP_API_URL, { transports: ['websocket'] });\n            // wait client connect\n            this.socket.on('connect', () => {\n                this.socket.emit(\"join-individual\", { uid: data.uid, username: data.name }, () => {\n                    console.log(`user ${this.props.userPayload.user.email} joined`);\n                });\n\n                this.socket.on(\"server-send-message-from-individual-user\", (res) => {\n                    document.getElementById(\"ntfSound\").play();\n                    console.log(\"server-send-message-from-individual-user\", res, userFriend._id);\n                    if (res.from === userFriend._id) {\n                        this.setState({ messages: this.state.messages.concat({ content: res.message, photo: res.photo }) });\n                    }\n                    this.showNewMessageComming(res.from);\n                });\n                this.socket.on(\"user-online\", data => {\n                    let userOnline = document.querySelector(`#dcs_${data} .status`);\n                    if(userOnline) {\n                        userOnline.classList.add(\"online\")\n                    }\n                })\n                this.socket.on(\"user-offline\", data => {\n                    let userOffline = document.querySelector(`#dcs_${data} .status`);\n                    if(userOffline) {\n                        userOffline.classList.remove(\"online\")\n                    }\n                })\n                this.socket.on('disconnect', () => {\n                    this.socket.emit(\"user-offline\", isAuthenticated().user._id);\n                });\n                this.socket.on(\"list-users-online\", data => {\n                    data.forEach(user => {\n                        let userOnline = document.querySelector(`#dcs_${user} .status`);\n                        if(userOnline) userOnline.classList.add(\"online\")\n                    })\n                })\n\n                this.socket.on(\"server-send-message-contain-image-from-individual-user\", (res) => {\n                    console.log(\"server-send-message-contain-image-from-individual-user\", res, userFriend)\n                    if (res.from === userFriend._id) {\n                        this.setState({ messages: this.state.messages.concat({ contentPhoto: res.contentPhoto, photo: res.photo }) });\n                    }\n                    this.showNewMessageComming(res.from);\n                });\n                \n                this.socket\n                .on('request', ({ from: callFrom }) => {\n                    this.setState({ callModal: 'on', callFrom });\n                })\n                .on('call', (data) => {\n                    if (data.sdp) {\n                        console.log(\"IFFFFFFF\", data.sdp)\n                        this.pc.setRemoteDescription(data.sdp);\n                        if (data.sdp.type === 'offer') {\n                            console.log(\"offer\");\n                            this.pc.createAnswer();\n                        }\n                    } else this.pc.addIceCandidate(data.candidate);\n                })\n                .on('end', this.endCall.bind(this, false))\n\n                \n            });\n\n        } catch (e) { console.log(e) }\n    }\n\n    showNewMessageComming = (from) => {\n        try {\n            this.orderItemDiscussionToTop(from);\n            let currentUnread = Number(document.querySelector(`#dcs_${from} .count-unread span`).innerHTML) + 1;\n            console.log(currentUnread)\n            this.showUnReadMessage(currentUnread, from);\n        } catch (e) { console.log(e) }\n    }\n\n    readMessage = (uid) => {\n        try {\n            let el = document.querySelector(`#dcs_${this.toUid} .count-unread span`);\n            if(Number(el.innerHTML) > 0) {\n                readMessage(uid, this.toUid)\n                .then( () => {\n                    el.innerHTML = 0;\n                    document.querySelector(`#dcs_${this.toUid} .count-unread`).classList.remove(\"on\");\n                });\n            }\n        } catch(err) { console.log(err) }\n    }\n\n    getMessageIndividualUser = async (cb = null) => {\n        \n        if(!this.toUid) return;\n        let token = this.props.userPayload.token;\n        let data = {\n            senderId: this.props.userPayload.user._id,\n            receiverId: this.toUid,\n            limit: this.LIMIT_MESSAGES,\n            skip: this.SKIP_MESSAGES\n        }\n\n        const res = await getMessageIndividualUser(data, token);\n        if (res.length > 0) {\n            let listMessage = [];\n            res.map(mes => {\n                let objMessage = {};\n                let isMe = mes.sender._id === data.senderId ? true : false;\n                objMessage.isMe = isMe === true ? \"me\" : \"\";\n                objMessage.content = mes.content;\n                objMessage.date = mes.created;\n                objMessage.photo = isMe === true ? mes.receiver.photo : mes.sender.photo;\n                objMessage.contentPhoto = mes.photo;\n                listMessage.push(objMessage);\n            });\n            this.setState({ messages: listMessage, isLoading: false });\n            this.SKIP_MESSAGES += this.LIMIT_MESSAGES;\n\n            cb && cb();\n        } else {\n            this.setState({ isLoading: false })\n        }\n    }\n    getMoreMessageIndividualUser = async (cb = null) => {\n        \n        if(!this.toUid) return;\n        let token = this.props.userPayload.token;\n        let data = {\n            senderId: this.props.userPayload.user._id,\n            receiverId: this.toUid,\n            limit: this.LIMIT_MESSAGES,\n            skip: this.SKIP_MESSAGES\n        }\n\n        const res = await getMessageIndividualUser(data, token);\n        if (res.length > 0) {\n            let listMessage = [];\n            res.map(mes => {\n                let objMessage = {};\n                let isMe = mes.sender._id === data.senderId ? true : false;\n                objMessage.isMe = isMe === true ? \"me\" : \"\";\n                objMessage.content = mes.content;\n                objMessage.date = mes.created;\n                objMessage.photo = isMe === true ? mes.receiver.photo : mes.sender.photo;\n                objMessage.contentPhoto = mes.photo;\n                listMessage.push(objMessage);\n            });\n            this.setState({ messages: listMessage.concat(this.state.messages), isLoading: false });\n            this.SKIP_MESSAGES += this.LIMIT_MESSAGES;\n\n            cb && cb();\n        } else {\n            this.setState({ isLoading: false })\n        }\n    }\n\n    getTotalUnreadMessages = (uid, token) => {\n        getTotalUnreadMessages(uid, token)\n            .then( res => {\n                if(res && res.totalUnreadObject.length > 0) {\n                    res.totalUnreadObject.forEach( obj => {\n                        this.showUnReadMessage(obj.n, obj._id);\n                    });\n                }\n            });\n    }\n\n    onScrollGetMoreMessages = () => {\n        try {\n            let container = document.querySelector(\"#chat-area .content .container\");\n            if (container.scrollTop === 0) {\n                this.getMoreMessageIndividualUser(() => {\n                    setTimeout(this.scrollToTop, 0);\n                });\n            }\n        } catch (err) { console.log(err) }\n    }\n\n    scrollToTop = () => {\n        try {\n            document.querySelector(\"#start-of-message\").scrollIntoView({ behavior: \"smooth\" });\n        } catch (e) { }\n    }\n\n    orderItemDiscussionToTop = (toUid) => {\n        let el = document.querySelector(`#dcs_${toUid}`);\n        el.style.order = this.ORDER_ITEM_DISCUSSION;\n        this.ORDER_ITEM_DISCUSSION -= 1;\n        el.scrollIntoView({ behavior: \"smooth\" });\n    }\n\n    onCallVideoStreaming = () => {\n        document.getElementById(\"end-call-video\").addEventListener(\"click\", this.onEndCallVideoStreaming);\n        document.getElementById(\"call\").classList.add(\"on\");\n        this.socket.emit(\"call-video-from-individual-user\", {\n            from: this.props.userPayload.user._id,\n            to: this.toUid\n        });\n    }\n\n    onEndCallVideoStreaming = () => {\n        document.getElementById(\"call\").classList.remove(\"on\");\n        this.socket.emit(\"end-call-video-from-individual-user\", {\n            from: this.props.userPayload.user._id,\n            to: this.toUid\n        });\n    }\n\n    showUnReadMessage = (count, toUid) => {\n        try {\n            if (count > 0) {\n                document.querySelector(`#dcs_${toUid} .count-unread`).classList.add(\"on\");\n                document.querySelector(`#dcs_${toUid} .count-unread span`).innerHTML = count;\n            }\n        } catch (err) { console.log(err) }\n    }\n\n    showTypingAction = (uTyping) => {\n        try {\n            document.getElementById(\"typing-action\").classList.add(\"on\");\n        } catch (e) { console.log(e) }\n    }\n\n    previewPhoto = (event) => {\n        let reader = new FileReader();\n        document.querySelector('.preview-image').classList.add(\"on\");\n        let inputAvatar = document.querySelector('.preview-image #preview');\n        reader.onload = function () {\n            inputAvatar.src = reader.result;\n        }\n        try {\n            reader.readAsDataURL(event.target.files[0]);\n            this.formData.append(\"photo\", event.target.files[0]);\n        } catch (e) {\n            // do nothing\n        }\n    }\n\n    handlePasteToInput = (event) => {\n        try {\n            let items = (event.clipboardData || event.originalEvent.clipboardData).items;\n            // find pasted image among pasted items\n            let blob = null;\n            for (let i = 0; i < items.length; i++) {\n                if (items[i].type.indexOf(\"image\") === 0) {\n                    blob = items[i].getAsFile();\n                }\n            }\n            // load image if there is a pasted image\n            if (blob !== null) {\n                let reader = new FileReader();\n                reader.onload = function (event) {\n                    document.querySelector('.preview-image').classList.add(\"on\");\n                    document.querySelector(\".preview-image #preview\").src = this.result;\n                };\n                reader.readAsDataURL(blob);\n                this.formData.append(\"photo\", blob);\n            }\n        } catch (e) { console.log(e) }\n    }\n\n    clearFormDataImage = () => {\n        document.querySelector('.preview-image').classList.remove(\"on\");\n        document.querySelector('.preview-image #preview').src = \"\";\n        this.formData.delete(\"photo\");\n    }\n\n    checkUserEnter = (e) => {\n        if (e.keyCode === 13) {\n            try {\n                this.handleSendMessageFromIndividualUser();\n            } catch (e) { console.log(e) }\n        }\n    }\n\n    toggleDropdown = () => {\n        try {\n            let drdElement = document.querySelector(\"#chat-area .list-more\");\n            if (drdElement.classList.length > 2) {\n                drdElement.classList.remove(\"active\");\n            } else {\n                drdElement.classList.add(\"active\");\n                document.getElementById(\"root\").addEventListener(\"click\", () => {\n                    drdElement.classList.remove(\"active\");\n                });\n            }\n        } catch (e) { }\n    }\n\n    scrollToBottom = () => {\n        try {\n            document.querySelector(\"#end-of-message\").scrollIntoView({ behavior: \"smooth\" });\n        } catch (e) { }\n    }\n\n    renderMessages = () => {\n        let { messages, isLoading } = this.state;\n        if(isLoading) {\n            return <div className=\"loading-messages\"></div>;\n        } else if(messages.length > 0) {\n            console.log(messages)\n            return messages.map((msg, i) => {\n                if (i === this.LIMIT_MESSAGES - 1) {\n                    return <>\n                        <div id=\"start-of-message\"></div>\n                        <ItemMessage\n                            key={i}\n                            isMe={msg.isMe}\n                            content={msg.content}\n                            contentPhoto={msg.contentPhoto}\n                            photo={msg.photo}\n                            date={moment(msg.date).fromNow() || \"just now\"}\n                        />\n                    </>\n                } else {\n                    return <ItemMessage\n                        key={i}\n                        isMe={msg.isMe}\n                        content={msg.content}\n                        contentPhoto={msg.contentPhoto}\n                        photo={msg.photo}\n                        date={moment(msg.date).fromNow() || \"just now\"}\n                    />\n                }\n            })\n        }\n\n        return <div>No message</div>;\n    }\n\n    \n\n    render() {\n        let { userFriend, callFrom, callModal, callWindow, localSrc, peerSrc } = this.state;\n        return (\n            <Template>\n                <div id=\"chat-area\">\n                    <div className=\"top\">\n                        <div className=\"inside\">\n                            {/* <div className=\"status online\" /> */}\n                            <div className=\"data\">\n                                <h5><a href=\"/users/\">{userFriend.fullname || userFriend.email}</a></h5>\n                                {/* <span>Active now</span> */}\n                            </div>\n                            <button\n                                className=\"btn d-md-block audio-call\" title=\"Audio call\"\n                                onClick={this.callWithVideo(false)}\n                            >\n                                \n                                <i className=\"ti-headphone-alt\" />\n                            </button>\n                            <button\n                                id=\"video-call\" className=\"btn d-md-block video-call\" title=\"Video call\"\n                                onClick={this.callWithVideo(true)}\n                            >\n                                <i className=\"ti-video-camera\" />\n                            </button>\n                            <button\n                                className=\"btn d-md-block \" title=\"Video screen\"\n                                onClick={this.callWithVideo(true, true)}\n                            >\n                                <i className=\"ti-layout-media-left-alt\" />\n                            </button>\n\n                            <div className=\"dropdown\" onClick={this.toggleDropdown}>\n                                <button className=\"btn d-md-block \" title=\"More\">\n                                    <i className=\"ti-gird\" />\n                                </button>\n\n                                <div className=\"dropdown-list list-more\">\n                                    <a onClick={this.callWithVideo(false)} href=\"#voice-call\" className=\"voice\">Voice Call</a>\n                                    <a onClick={this.callWithVideo(true)} href=\"#video-call\" className=\"voice\">Video Call</a>\n                                    <a onClick={this.callWithVideo(true, true)} href=\"#video-screen\" className=\"voice\">Video Screen</a>\n                                    <hr />\n                                    <a href=\"/\" className=\"voice\">Clear History</a>\n                                    <a href=\"/\" className=\"voice\">Block Contact</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <div className=\"content\">\n                        <div className=\"container\">\n                            { this.renderMessages() }\n                            {/* <div className=\"date\">\n                    <hr />\n                    <span>Yesterday</span>\n                    <hr />\n                  </div>\n              */}\n                            <div id=\"end-of-message\"></div>\n                        </div>\n                        <div className=\"scroller\" />\n                    </div>\n                    <div className=\"bottom\">\n                        <div className=\"text-area\">\n                            <div id=\"typing-action\">\n                                someone is typing ...\n              </div>\n                            <input\n                                autoComplete={\"off\"}\n                                id=\"text-message\" className=\"form-control\" placeholder=\"Start typing for reply...\" rows={1} defaultValue={\"\"}\n                                onPaste={this.handlePasteToInput}\n                            />\n                            <div className=\"add-smiles\">\n                                <span title=\"add icon\" className=\"em em-blush\" />\n                            </div>\n\n                            <button onClick={this.handleSendMessageFromIndividualUser} style={{ height: '56x' }} type=\"submit\" className=\"btn send\"><i className=\"ti-location-arrow\" /></button>\n                            <label className=\"label-input input-file\">\n                                <input\n                                    type=\"file\" className=\"d-none\"\n                                    onChange={this.previewPhoto}\n                                />\n                                <i className=\"ti-clip\" />\n                            </label>\n                        </div>\n                    </div>\n                    <div onClick={this.clearFormDataImage} className=\"preview-image\">\n                        <img id=\"preview\" src=\"\" alt=\"\" />\n                    </div>\n                </div>\n                {\n                    !_.isEmpty(this.config) && (\n                        <VideoCallRequest\n                            status={callWindow}\n                            localSrc={localSrc}\n                            peerSrc={peerSrc}\n                            config={this.config}\n                            mediaDevice={this.pc.mediaDevice}\n                            endCall={this.endCallHandler}\n                        />\n                    )\n                }\n                {\n                    <VideoCallResponse\n                        status={callModal}\n                        startCall={this.startCallHandler}\n                        rejectCall={this.rejectCallHandler}\n                        callFrom={callFrom}\n                    />\n                }\n                <audio id=\"ntfSound\">\n                    <source src={NTF_SOUND} type=\"audio/mpeg\" />\n                </audio>\n            </Template>\n        )\n\n    }\n}\n\nexport default withRouter(ChatArea);\n","import React from 'react';\nimport { withRouter } from 'react-router-dom';\nimport { postJoinChanel } from '../controllers/ChanelController';\nimport { isAuthenticated } from '../controllers/UserController';\n\nclass CardChanel extends React.Component {\n\n    joinChanel = () => {\n        let { cid } = this.props;\n        let uid = isAuthenticated().user._id;\n        let token = isAuthenticated().token;\n\n        postJoinChanel({ cid, uid }, token)\n        .then( (res) => {\n            if(res.message) {\n                this.props.history.push(\"/chanels/\" + cid);\n            }\n        });\n    }\n    \n    render() {\n        let { cardIcon, cardImg, cardDescription, cardTitle, cardMemerCount } = this.props;\n        return (\n            <div className=\"guild-card\">\n                <div className=\"card-header\">\n                    <div className=\"card-img\">\n                        <img className=\"card-img\" src={cardImg} alt=\"card-img\" />\n                    </div>\n                    <div className=\"card-icon\">\n                        <img className=\"card-icon\" src={cardIcon} alt=\"icon\" />\n                    </div>\n                    <div className=\"card-button\">\n                        <button onClick={this.joinChanel} className=\"btn\">Join</button>\n                    </div>\n                </div>\n                <div className=\"guild-info\">\n                    <div className=\"title\">\n                        {/* icon */}\n                        <span>{cardTitle}</span>\n                    </div>\n                    <div className=\"description\">\n                        <span>{cardDescription}</span>\n                    </div>\n                    <div className=\"member-info\">\n                        <div class=\"member-count\">\n                            <div class=\"dot-online\"></div>\n                            <strong>{cardMemerCount}</strong> Online\n                        </div>\n                    </div>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(CardChanel);","import React from 'react';\nimport settingImage from '../imgs/867443.jpg';\n// import Logo from '../imgs/logo.png';\nimport { isAuthenticated } from '../controllers/UserController';\n\nclass TabPanel extends React.Component {\n    showNavigation = () => {\n        // this.setState()\n\n        let nav = document.querySelector(\"#wrap-left .navigation\") || {};\n        if (nav.classList.length > 1) {\n            document.getElementById(\"wrap-right\").style.width = \"calc(100% - 81px)\";\n            nav.classList.remove(\"active\");\n        } else {\n            nav.classList.add(\"active\");\n            document.getElementById(\"wrap-right\").style.width = \"calc(100% - 82px - 97px)\";\n        }\n    }\n\n    render() {\n        let userImage = isAuthenticated().user.photo;\n        let display = this.props.display;\n        return (\n            <div className={`container tab-panel tab-panel-server ${display}`}>\n                <div className=\"panel\">\n                    <div className=\"setting\" onClick={this.showNavigation}>\n                        <img className=\"border-radius-50\" width={45} height={45} src={userImage || settingImage} alt=\"img-setting\" />\n                    </div>\n                    \n                    \n                    {this.props.children}\n\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default TabPanel;","import React from 'react';\nimport { Link, withRouter } from 'react-router-dom';\nimport { getChanelJoined } from '../controllers/ChanelController';\nimport { isAuthenticated } from '../controllers/UserController';\nimport \"./Chanels.css\";\n\nclass Chanels extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            chanels: [],\n        }\n    }\n\n    componentDidMount() {\n        try {\n            // Get chanels\n            let uid = isAuthenticated().user._id;\n            getChanelJoined(uid)\n            .then(res => {\n                if (!res.message && res.chanels) {\n                    this.setState({\n                        chanels: res.chanels\n                    });\n                }\n            });\n        } catch (e) { console.log(e) }\n    }\n\n    render() {\n        let { chanels } = this.state;\n        return (\n            <div className=\"discussions server-chanels\" id=\"scroller\">\n                <div className=\"list-group chats\" id=\"chats\">\n                    {\n                        chanels.map((cn, index) => {\n                            return <Link title={cn.chanelName} id={`dcs_${cn.chanelId._id}`} tabIndex={index} key={index} to={`/chanels/${cn.chanelId._id}`} className=\"item-discussions single unread\">\n                                <img className=\"avatar-md\" width=\"48\" height=\"48\" src={cn.chanelId.chanelPhoto.photoIcon} alt=\"chanel-icon\" />\n                            </Link>\n                        })\n                    }\n                    <Link\n                        title=\"anonymous-chanel\" id={`dcs_anonymous`} tabIndex={2} key={2} to=\"/chanels/anonymous/ha\" className=\"item-discussions single unread\"\n                    >\n                        <img className=\"avatar-md\" src=\"https://res.cloudinary.com/ddrw0yq95/image/upload/v1581392392/kjadclbvhq0gjnwvihnp.png\" alt=\"avt\"/>\n                    </Link>\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default withRouter(Chanels);\n","import React from 'react';\nimport Navigation from './Navigation';\nimport TabPanel from './TabPanelForChatServer';\nimport Chanels from '../chats/Chanels';\nimport CreateChanel from './CreateChanel';\n\nclass TemplateWithNavigationForChanel extends React.Component {\n\n    render() {\n        return (\n            <>\n                <CreateChanel />\n                <div id=\"wrap-left\">\n                    <Navigation />\n                    <TabPanel display={this.props.tabPenel || \"block\"}>\n                        <Chanels />\n                    </TabPanel>\n                </div>\n                <div id=\"wrap-right\" style={{width: this.props.widthRight}}>\n                    <div className=\"container tab-content\" id=\"nav-tabContent\">\n                        {this.props.children}\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nexport default TemplateWithNavigationForChanel;","import React from 'react';\nimport \"./Discovery.css\";\nimport IMG from '../imgs/layd.jpg';\nimport CardChanel from './CardChanel';\nimport IMGBG from '../imgs/rs-bg.png';\n\nimport Template from './TemplateWithNavigationForChanel';\nimport { getChanels, findDiscovery } from '../controllers/ChanelController';\n\nclass Discovery extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            chanels: []\n        }\n    }\n\n    componentDidMount() {\n        try {\n            getChanels()\n            .then( res => {\n                if(!res.message) {\n                    this.setState( {chanels: res} )\n                }\n            });\n        } catch (e) { console.log(e) }\n    }\n\n    onSubmitFind = async event => {\n        event.preventDefault();\n        \n        let textSearch = document.getElementById(\"search-chanels\");\n        const response = await findDiscovery(textSearch.value);\n        console.log(response);\n        this.setState({ chanels: response });\n\n\n    }\n\n\n    render() {\n        let { chanels } = this.state;\n        console.log(chanels)\n        return (\n            <Template widthRight=\"calc(100% - 81px)\">\n                <div id=\"guild-discovery\">\n                    <div className=\"page-header\"></div>\n                    <div className=\"page-body\">\n                        <h2>Find new communities on Liarschat</h2>\n                        <div className=\"search\">\n                            <form onSubmit={this.onSubmitFind} name=\"search-chanels-form\" id=\"search-chanels-form\">\n                                <input type=\"text\" id=\"search-chanels\" placeholder=\"Try searching for chanel you intersted\" />\n                                <button className=\"button button-link\">\n                                    <svg style={{ fill: '#2298ff' }} aria-hidden=\"true\" className=\"svg-icon s-input-icon s-input-icon__search iconSearch\" width={16} height={16} viewBox=\"0 0 18 18\"><path d=\"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\" /></svg>\n                                </button>\n                            </form>\n                            <div className=\"select-search-box\"></div>\n                        </div>\n\n                        <section>\n                            <h3>Popular servers and communities</h3>\n                            <div className=\"guild-list\">\n                                {\n                                    chanels.map( (cn, i) => {\n                                        return <CardChanel\n                                            key={i}\n                                            cid={cn._id}\n                                            cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                            cardImg={cn.chanelPhoto.photoBackground}\n                                            cardDescription={cn.chanelDescription}\n                                            cardTitle={cn.chanelName}\n                                            cardMemerCount=\"80,954\"\n                                        />\n                                    })\n                                }\n                                <CardChanel\n                                    cid=\"123\"\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMGBG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                <CardChanel\n                                    cardIcon=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\"\n                                    cardImg={IMG}\n                                    cardDescription=\"Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!\"\n                                    cardTitle=\"Destiny 2 PC LFG\"\n                                    cardMemerCount=\"80,954\"\n                                />\n                                \n                                <div class=\"guild-card\">\n                                    <div class=\"card-header\">\n                                        <div class=\"card-img\">\n                                        <svg width=\"256\" height=\"144\" viewBox=\"0 0 256 144\">\n                                    <foreignObject x=\"0\" y=\"0\" width=\"256\" height=\"144\" mask=\"url(#svg-mask-vertical-fade)\">\n                                        <img src=\"https://cdn.discordapp.com/discovery-splashes/302094807046684672/b3abc737a37bdff48d0d3237b65ac994.jpg?size=256\" alt=\"\" class=\"splashImage-1wJ3Sk\" />\n                                    </foreignObject>\n                                </svg>\n                                        </div>\n                                        <div class=\"card-icon\">\n                                            <img class=\"card-icon\" src=\"https://cdn.discordapp.com/icons/356833056562348042/a_64a991f335045c61466f008e85a6d95d.png?size=64\" alt=\"icon\" />\n                                        </div>\n                                    <div class=\"card-button\"><button class=\"btn\">Join</button></div></div><div class=\"guild-info\"><div class=\"title\"><span>Destiny 2 PC LFG</span></div><div class=\"description\"><span>Active LFG Server + Community for Destiny 2 on PC Cross Saves WELCOME!</span></div><div class=\"member-info\"><div class=\"member-count\"><div class=\"dot-online\"></div><strong>80,954</strong> Online</div></div></div></div>\n                            </div>\n                        </section>\n                    </div>\n                </div>\n            </Template>\n        )\n    }\n}\n\nexport default Discovery;","import React from 'react';\nimport ItemMessage from '../chats/ItemMessage';\nimport socketIOClient from 'socket.io-client';\nimport Template from '../component/TemplateWithNavigationForChanel';\nimport \"./chatServerArea.css\";\n\nimport { getSingleChanel, getChanelMessages, postSaveChanelMessage } from \"../controllers/ChanelController\";\n\nconst moment = require(\"moment\");\n\nclass ChatServerArea extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            messageList: [],\n            onlineUsers: [],\n            chanel: {}\n        }\n\n        this.formData = new FormData();\n        this.LIMIT_MESSAGES = 10;\n        this.SKIP_MESSAGES = 0;\n    }\n\n    componentDidMount() {\n        try {\n            this.chanelId = this.props.match.params.chanelId;\n            // Scroll content message to bottom\n            window.onload = () => {\n                this.scrollToBottom();\n                document.querySelector(\"#chat-area .content .container\").addEventListener(\"scroll\", this.onScrollGetMoreMessages);\n            }\n\n            document.getElementById(\"text-message\").addEventListener(\"keyup\", this.checkUserEnter)\n            // Get chanel info\n            this.getSingleChanel();\n            this.getChanelMessages(() => { });\n\n            // Socket realtime\n            this.handleCreateConnectSocket();\n\n        } catch (e) { console.log(e) }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        this.chanelId = nextProps.match.params.chanelId;\n        this.SKIP_MESSAGES = 0;\n        let sid = this.socket.id;\n        let uid = this.props.userPayload.user._id;\n        let name = this.props.userPayload.user.fullname || this.props.userPayload.user.email;\n        let photo = this.props.userPayload.user.photo;\n        this.socket.emit(\"join-chanel\", { sid, uid, name, photo, chanelId: this.chanelId }, () => {\n            console.log(\"User has join this chanel\", this.chanelId);\n        })\n        this.setState({ messageList: [] });\n        this.getSingleChanel();\n        this.getChanelMessages(() => { });\n    }\n\n    componentDidUpdate() {\n        this.scrollToBottom();\n    }\n\n    getSingleChanel = () => {\n        getSingleChanel(this.chanelId)\n            .then(res => {\n                if (!res.message) {\n                    this.setState({\n                        chanel: res,\n                    });\n                }\n            });\n    }\n\n    getChanelMessages = (cb) => {\n        let token = this.props.userPayload.token;\n\n        getChanelMessages({ cid: this.chanelId, limit: this.LIMIT_MESSAGES, skip: this.SKIP_MESSAGES }, token)\n            .then(res => {\n                console.log(\"getChanelMessages\", res);\n                if (res.length > 0) {\n                    this.setState({ messageList: res.concat(this.state.messageList) });\n                    cb();\n                    this.SKIP_MESSAGES += this.LIMIT_MESSAGES;\n                }\n            })\n            .catch(err => console.log(err));\n\n    }\n\n    onScrollGetMoreMessages = (event) => {\n        try {\n            let container = document.querySelector(\"#chat-area .content .container\");\n            if (container.scrollTop === 0) {\n                this.getChanelMessages(() => {\n                    setTimeout(this.scrollToTop, 0);\n                });\n            }\n        } catch (err) { console.log(err) }\n    }\n\n    scrollToBottom = () => {\n        try {\n            document.querySelector(\"#end-of-message\").scrollIntoView({ behavior: \"smooth\" });\n        } catch (e) { }\n    }\n\n    scrollToTop = () => {\n        try {\n            document.querySelector(\"#start-of-message\").scrollIntoView({ behavior: \"smooth\" });\n        } catch (e) { }\n    }\n\n    handleCreateConnectSocket = () => {\n        this.socket = socketIOClient(process.env.REACT_APP_API_URL, { transports: ['websocket'] });\n        // wait client connect\n        this.socket.on('connect', () => {\n\n            let sid = this.socket.id;\n            let uid = this.props.userPayload.user._id;\n            let name = this.props.userPayload.user.fullname || this.props.userPayload.user.email;\n            let photo = this.props.userPayload.user.photo;\n\n            this.socket.emit(\"join-chanel\", { sid, uid, name, photo, chanelId: this.chanelId }, () => {\n                console.log(name + \" has join this chanel\", this.chanelId);\n            })\n\n            this.socket.on(\"server-send-message-from-chanel\", (res) => {\n                // console.log(\"server-send-message-from-chanel\", sid, res.data);\n                if (uid === res.data.sender._id) res.data.isMe = \"me\";\n                this.setState({ messageList: this.state.messageList.concat(res.data) });\n            });\n            this.socket.on(\"server-send-message-contain-image-from-chanel\", (res) => {\n                console.log(\"server-send-message-contain-image-from-chanel\", sid, res.data);\n                if (uid !== res.data.sender._id) {\n                    this.setState({ messageList: this.state.messageList.concat(res.data) });\n                }\n            });\n\n            this.socket.on(\"list-connected-chanel-users\", users => {\n                this.setState({ onlineUsers: users })\n            });\n\n        });\n    }\n\n    handleSendMessageFromChanel = () => {\n        try {\n            window.event.preventDefault();\n            let { chanelId } = this.props.match.params;\n            let textMessage = document.getElementById(\"text-message\");\n            if (textMessage.value.trim() || this.formData.get(\"photo\")) {\n                document.querySelector(\".preview-image #preview\").src = \"\";\n                document.querySelector(\".preview-image\").classList.remove(\"on\");\n\n                let uid = this.props.userPayload.user._id;\n                let name = this.props.userPayload.user.fullname || this.props.userPayload.user.email;\n                let photo = this.props.userPayload.user.photo;\n                let token = this.props.userPayload.token;\n\n                // emit event\n                let data = {};\n                data.sender = {};\n                data.chanelId = chanelId;\n                data.content = textMessage.value;\n                data.sender._id = uid;\n                data.sender.photo = photo;\n                data.sender.name = name;\n\n                this.socket.emit(\"client-send-message-from-chanel\", data, () => {\n                    textMessage.value = \"\";\n                    document.querySelector(\"#chat-area .content .container\").scrollBy(0, 2000);\n                })\n\n\n                this.formData.append(\"cid\", chanelId);\n                this.formData.append(\"uid\", uid);\n                this.formData.append(\"content\", textMessage.value);\n                postSaveChanelMessage(this.formData, token)\n                    .then(res => {\n                        console.log(res);\n                        this.formData.delete(\"photo\");\n                        if (res && res.urlContainImage) {\n                            let dataImage = {\n                                sender: {\n                                    _id: uid,\n                                    name,\n                                    photo: photo\n                                },\n                                photo: res.urlContainImage,\n                            }\n                            this.setState({\n                                messageList: this.state.messageList.concat(dataImage)\n                            });\n\n                            dataImage.chanelId = chanelId;\n                            this.socket.emit(\"client-send-message-contain-image-from-chanel\", dataImage, () => {\n                                console.log(\"Server-send-message-contain-image-from-chanel\");\n                            })\n                        }\n                    })\n                    .catch(err => { console.log(err) })\n            }\n\n\n        } catch (e) { console.log(e) }\n    }\n\n    handlePasteToInput = (event) => {\n        try {\n            let items = (event.clipboardData || event.originalEvent.clipboardData).items;\n            // find pasted image among pasted items\n            let blob = null;\n            for (let i = 0; i < items.length; i++) {\n                if (items[i].type.indexOf(\"image\") === 0) {\n                    blob = items[i].getAsFile();\n                }\n            }\n            // load image if there is a pasted image\n            if (blob !== null) {\n                let reader = new FileReader();\n                reader.onload = function (event) {\n                    document.querySelector('.preview-image').classList.add(\"on\");\n                    document.querySelector(\".preview-image #preview\").src = this.result;\n                };\n                reader.readAsDataURL(blob);\n                this.formData.append(\"photo\", blob);\n            }\n        } catch (e) { console.log(e) }\n    }\n\n    clearFormDataImage = () => {\n        document.querySelector('.preview-image').classList.remove(\"on\");\n        document.querySelector('.preview-image #preview').src = \"\";\n        this.formData.delete(\"photo\");\n    }\n\n    previewPhoto = (event) => {\n        let reader = new FileReader();\n        document.querySelector('.preview-image').classList.add(\"on\");\n        let inputAvatar = document.querySelector('.preview-image #preview');\n        reader.onload = function () {\n            inputAvatar.src = reader.result;\n        }\n        try {\n            reader.readAsDataURL(event.target.files[0]);\n            this.formData.append(\"photo\", event.target.files[0]);\n        } catch (e) {\n            // do nothing\n        }\n    }\n\n    checkUserEnter = (e) => {\n        if (e.keyCode === 13) {\n            this.handleSendMessageFromChanel();\n        }\n    }\n\n    toggleDropdown = () => {\n        try {\n            let drdElement = document.querySelector(\"#chat-area .list-more\");\n            if (drdElement.classList.length > 2) {\n                drdElement.classList.remove(\"active\");\n            } else {\n                drdElement.classList.add(\"active\");\n                document.getElementById(\"root\").addEventListener(\"click\", () => {\n                    drdElement.classList.remove(\"active\");\n                });\n            }\n        } catch (e) { }\n    }\n\n    render() {\n        let { messageList, onlineUsers, chanel } = this.state;\n        let uid = this.props.userPayload.user._id;\n\n        let tabActive = document.querySelectorAll(\".item-discussions.active\");\n        Array.from(tabActive).map(el => { el.classList.remove(\"active\") });\n        // active tab\n        let idTabElement = `dcs_${this.chanelId}`;\n        let tabElement = document.getElementById(idTabElement);\n        if (tabElement) {\n            tabElement.classList.add(\"active\")\n        }\n\n        return (\n            <Template tabPenel=\"-none\" widthRight=\"calc(100% - 80px)\">\n                <div id=\"video-player\"></div>\n                <div id=\"chat-area\" className=\"chat-server\">\n                    <div className=\"top\">\n                        <div className=\"inside\">\n\n                            <div className=\"data\">\n                                <h5><a href=\"/chanels\">{chanel.chanelName}</a></h5>\n                            </div>\n                            <button className=\"btn d-md-block audio-call\" title=\"Audio call\">\n                                <i className=\"ti-headphone-alt\" />\n                            </button>\n                            <button className=\"btn d-md-block audio-call\" title=\"Audio call\">\n                                <i className=\"ti-video-camera\" />\n                            </button>\n                            <button className=\"btn d-md-block audio-call\" title=\"Audio call\">\n                                <i className=\"ti-info\" />\n                            </button>\n\n                            <div className=\"dropdown\" onClick={this.toggleDropdown}>\n                                <button className=\"btn d-md-block audio-call\" title=\"Audio call\">\n                                    <i className=\"ti-gird\" />\n                                </button>\n\n                                <div className=\"dropdown-list list-more\">\n                                    <a href=\"/\" className=\"voice\">Voice Call</a>\n                                    <a href=\"/\" className=\"voice\">Video Call</a>\n                                    <hr />\n                                    <a href=\"/\" className=\"voice\">Clear History</a>\n                                    <a href=\"/\" className=\"voice\">Block Contact</a>\n                                    <a href=\"/\" className=\"voice\">Delete Contact</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <aside >\n                        <div>\n                            <div className=\"content\">\n                                <div className=\"container\">\n                                    {\n                                        messageList.map((item, i) => {\n                                            if (i === this.LIMIT_MESSAGES - 1) {\n                                                return <>\n                                                    <div id=\"start-of-message\"></div>\n                                                    <ItemMessage\n                                                        key={i}\n                                                        isMe={item.sender._id === uid ? \"me\" : \"\"}\n                                                        content={item.content}\n                                                        contentPhoto={item.photo}\n                                                        photo={item.sender.photo}\n                                                        date={moment(item.created).fromNow() || \"just now\"}\n                                                        name={item.sender.fullname || item.sender.email}\n                                                        uid={item.sender._id}\n                                                    />\n                                                </>\n                                            }\n                                            return (\n                                                <ItemMessage\n                                                    key={i}\n                                                    isMe={item.sender._id === uid ? \"me\" : \"\"}\n                                                    content={item.content}\n                                                    contentPhoto={item.photo}\n                                                    photo={item.sender.photo}\n                                                    date={moment(item.created).fromNow() || \"just now\"}\n                                                    name={item.sender.fullname || item.sender.email}\n                                                    uid={item.sender._id}\n                                                />\n                                            )\n                                        })\n                                    }\n                                    <div id=\"end-of-message\"></div>\n                                </div>\n                                <div className=\"scroller\" />\n                            </div>\n                            <div className=\"bottom\">\n                                <div className=\"text-area\">\n                                    <input\n                                        autoComplete={\"off\"}\n                                        id=\"text-message\" className=\"form-control\" placeholder=\"Start typing for reply...\" rows={1} defaultValue={\"\"}\n                                        onPaste={this.handlePasteToInput}\n                                    />\n                                    <div className=\"add-smiles\">\n                                        <span title=\"add icon\" className=\"em em-blush\" />\n                                    </div>\n                                    <button onClick={this.handleSendMessageFromChanel} style={{ height: '56x', outline: \"none\" }} type=\"submit\" className=\"btn send\"><i className=\"ti-location-arrow\" /></button>\n                                    <label className=\"label-input input-file\">\n                                        <input\n                                            type=\"file\" className=\"d-none\"\n                                            accept=\"image/*\"\n                                            onChange={this.previewPhoto}\n                                        />\n                                        <i className=\"ti-clip\" />\n                                    </label>\n                                </div>\n                            </div>\n                            <div onClick={this.clearFormDataImage} className=\"preview-image\">\n                                <img id=\"preview\" src=\"\" alt=\"\" />\n                            </div>\n                        </div>\n                        <div className=\"container tab-panel\">\n                            <div className=\"chanel user-online\">\n                                <header>Member online</header>\n                                {\n                                    onlineUsers.map((user, i) => {\n                                        return <a key={i} href=\"#list-chat\" className=\"item-discussions single\">\n                                            <img className=\"avatar-md\" src={user.photo} alt=\"avt\" />\n                                            <div className=\"data\">\n                                                <h5>{user.name}</h5>\n                                            </div>\n                                        </a>\n                                    })\n                                }\n                                <a href=\"#list-chat\" className=\"item-discussions single\">\n                                    <img className=\"avatar-md\" src=\"https://res.cloudinary.com/ddrw0yq95/image/upload/v1581392392/kjadclbvhq0gjnwvihnp.png\" alt=\"avt\" />\n                                    <div className=\"status offline\" />\n                                    <div className=\"data\">\n                                        <h5>Bob Frank</h5>\n\n                                    </div>\n                                </a>\n\n                            </div>\n                        </div>\n                    </aside>\n\n                </div>\n            </Template>\n        )\n    }\n}\n\nexport default ChatServerArea;","import { searchYoutube } from '../controllers/ChanelController';\n\nclass YoutubePlay {\n    constructor(player, startSeconds = 0) {\n        this.onPlayQueue = [];\n        this.onPlayQueueName = [];\n        this.onPlaying = false;\n        this.player = player;\n        this.onPlayingSong = null;\n        this.startSeconds = startSeconds;\n        this.dataEvent = true;\n    }\n\n    searchYoutube(q) {\n        searchYoutube(q)\n            .then(res => {\n                let vid = res.videoId;\n                this.onPlayQueueName.push(res.title);\n                this.playVideo(vid)\n            })\n\n    }\n\n    playVideo(vid) {\n        if (vid) {\n            this.onPlayQueue.push(vid);\n        }\n\n        if (this.onPlaying === false) {\n            this.onPlayingSong = this.onPlayQueue.shift();\n            this.onPlayQueueName.shift();\n            this.player.loadVideoById({\n                videoId: this.onPlayingSong,\n                startSeconds: this.startSeconds\n            });\n            this.player.playVideo();\n            this.onPlaying = true;\n        }\n\n\n        this.player.on('stateChange', (event) => {\n            if (event.data === 0) {\n                if(this.dataEvent) {\n                    this.dataEvent = false;\n                    if (this.onPlayQueue.length > 0 && this.onPlaying) {\n                        this.onPlayingSong = this.onPlayQueue.shift();\n                        this.onPlayQueueName.shift();\n                        this.player.loadVideoById(this.onPlayingSong);\n                        this.player.playVideo().then( () => {\n                            this.onPlaying = true;\n                            this.dataEvent = true;\n                        });\n                    } else {\n                        this.onPlaying = false;\n                        this.dataEvent = true;\n                    }\n                }\n            }\n        });\n    }\n\n    concatQueue(listId, listName) {\n        this.onPlayQueue = this.onPlayQueue.concat(listId);\n        this.onPlayQueueName = this.onPlayQueueName.concat(listName);\n    }\n    \n    getPlayQueue() {\n        return this.onPlayQueue;\n    }\n\n    getPlayQueueName() {\n        return this.onPlayQueueName;\n    }\n\n    getIsPlaying() {\n        return this.onPlaying;\n    }\n\n    getCurrentTime() {\n        return this.player.getCurrentTime();\n    }\n\n    getCurrentSong() {\n        return this.onPlayingSong;\n    }\n\n    getPlayQueueName() {\n        return this.onPlayQueueName;\n    }\n\n    skipVideo() {\n        console.log(this.onPlaying)\n        if (this.onPlayQueue.length > 0 && this.onPlaying) {\n            this.onPlayingSong = this.onPlayQueue.shift();\n            this.onPlayQueueName.shift();\n            this.player.loadVideoById(this.onPlayingSong);\n            this.player.playVideo().then( () => {\n                this.onPlaying = true;\n                this.dataEvent = true;\n            });\n        } else {\n            this.onPlaying = false;\n            this.dataEvent = true;\n        }\n    }\n}\n\nexport default YoutubePlay;\n","import React from 'react';\nimport ItemMessage from '../chats/ItemMessage';\nimport YouTubePlayer from 'youtube-player';\nimport YoutubePlay from \"./YoutubePlay\";\nimport socketIOClient from 'socket.io-client';\nimport Template from '../component/TemplateWithNavigationForChanel';\nimport \"./chatServerArea.css\";\n\nconst moment = require(\"moment\");\n\nclass ChatAnonymous extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            onlineUsers: [],\n            messageList: []\n        }\n        this.CHANEL_AN = \"anonymous\";\n        this.formData = new FormData();\n        this.onPlayQueue = [];\n        this.onPlaying = false;\n    }\n\n    componentDidMount() {\n        try {\n            this.playerFactory = YouTubePlayer('video-player');\n            this.player = new YoutubePlay(this.playerFactory);\n\n            document.getElementById(\"text-message\").addEventListener(\"keyup\", this.checkUserEnter)\n            // Socket realtime\n            this.handleCreateConnectSocket();\n\n        } catch (e) { console.log(e) }\n    }\n\n    componentWillReceiveProps(nextProps) {\n        let sid = this.socket.id;\n        let uid = this.props.userPayload.user._id;\n        let name = this.props.userPayload.user.fullname || this.props.userPayload.user.email;\n        this.socket.emit(\"join-chanel\", { sid, uid, name, chanelId: this.CHANEL_AN }, () => {\n            console.log(\"User has join this chanel\", this.CHANEL_AN);\n        })\n        this.setState({ messageList: [] });\n    }\n\n    scrollToBottom = () => {\n        try {\n            document.querySelector(\"#end-of-message\").scrollIntoView({ behavior: \"smooth\" });\n        } catch (e) { }\n    }\n\n    handleCreateConnectSocket = () => {\n        this.socket = socketIOClient(process.env.REACT_APP_API_URL, { transports: ['websocket'] });\n        // wait client connect\n        this.socket.on('connect', () => {\n\n            let sid = this.socket.id;\n            let uid = this.props.userPayload.user._id;\n            let name = this.props.userPayload.user.fullname || this.props.userPayload.user.email;\n\n            this.socket.emit(\"join-chanel\", { sid, uid, name, chanelId: this.CHANEL_AN }, () => {\n                console.log( name + \" has join this chanel\", this.CHANEL_AN);\n            })\n\n            this.socket.on(\"server-send-message-from-chanel\", (res) => {\n                // console.log(\"server-send-message-from-chanel\", sid, res.data);\n                res.data.sender.photo = \"https://res.cloudinary.com/ddrw0yq95/image/upload/v1581392392/kjadclbvhq0gjnwvihnp.png\";\n                \n                if (uid === res.data.sender._id) {\n                    res.data.isMe = \"me\";\n                } else {\n                    if (res.data.content.indexOf(\">p\") !== -1) {   \n                        this.player.searchYoutube(res.data.content);\n                    }\n                }\n                this.setState({ messageList: this.state.messageList.concat(res.data) });\n            });\n            this.socket.on(\"server-send-message-contain-image-from-chanel\", (res) => {\n                console.log(\"server-send-message-contain-image-from-chanel\", sid, res.data);\n                if (res.data.content.indexOf(\">p\") !== -1) {   \n                    this.player.searchYoutube(res.data.content);\n                }\n                if (uid !== res.data.sender._id) {\n                    this.setState({ messageList: this.state.messageList.concat(res.data) });\n                }\n            });\n\n            this.socket.on(\"list-connected-chanel-users\", users => {\n                this.setState({ onlineUsers: users })\n            });\n            this.socket.on(\"play-music\", data => {\n                let isPlaying = this.player.getIsPlaying();\n                if(isPlaying) {\n                    this.player.getCurrentTime().then( time => {\n                        let playQueue = this.player.getPlayQueue();\n                        let playQueueName = this.player.getPlayQueueName();\n                        let currentSong = this.player.getCurrentSong();\n                        console.log(time, playQueue, currentSong);\n                        this.socket.emit(\"play-music\", { time, playQueue, playQueueName, currentSong, chanelId: this.CHANEL_AN });\n                    })\n                }\n            });\n            this.socket.on(\"bot-send-queue\", data => {\n                console.log(data);\n                this.player = new YoutubePlay(this.playerFactory, Number(data.time) + 3);\n                this.player.playVideo(data.currentSong);\n                this.player.concatQueue(data.playQueue, data.playQueueName)\n            });\n            this.socket.on(\"skip-music\", () => {\n                console.log(\"skip-muisc\");\n                this.player.skipVideo();\n            });\n\n        });\n    }\n\n    handleSendMessageFromChanel = () => {\n        try {\n            window.event.preventDefault();\n            let textMessage = document.getElementById(\"text-message\");\n            if (textMessage.value.trim() || this.formData.get(\"photo\")) {\n                document.querySelector(\".preview-image #preview\").src = \"\";\n                document.querySelector(\".preview-image\").classList.remove(\"on\");\n\n                let uid = this.props.userPayload.user._id;\n                let name = this.props.userPayload.user.fullname || this.props.userPayload.user.email;\n\n                // emit event\n                let data = {};\n                data.sender = {};\n                data.chanelId = this.CHANEL_AN;\n                data.content = textMessage.value;\n                data.sender._id = uid;\n                data.sender.name = name;\n\n                this.socket.emit(\"client-send-message-from-chanel\", data, () => {\n                    textMessage.value = \"\";\n                    document.querySelector(\"#chat-area .content .container\").scrollBy(0, 2000);\n                })\n\n\n                \n                if (data.content.indexOf(\">p\") !== -1) {   \n                    this.player.searchYoutube(data.content);\n                }\n                if(data.content.indexOf(\">q\") !== -1) {\n                    let qn = this.player.getPlayQueueName();\n                    console.log(qn)\n                    if(qn.length > 0) {\n                        let queue = []\n                        qn.map ( q => {\n                            queue.push({ content: q, sender: {} });\n                        });\n\n                        this.setState( (state) => {\n                            return { messageList: state.messageList.concat(queue) }\n                        })\n                    } else {\n                        this.setState( (state) => {\n                            return { messageList: state.messageList.concat({ content: \"Queue is empty. Use command >p to add queue.\", sender: {} }) }\n                        })\n                    }\n                }\n                if (data.content.indexOf(\">s\") !== -1) {   \n                    this.socket.emit(\"skip-music\", this.CHANEL_AN);\n                }\n            }\n\n\n        } catch (e) { console.log(e) }\n    }\n\n    handlePasteToInput = (event) => {\n        try {\n            let items = (event.clipboardData || event.originalEvent.clipboardData).items;\n            // find pasted image among pasted items\n            let blob = null;\n            for (let i = 0; i < items.length; i++) {\n                if (items[i].type.indexOf(\"image\") === 0) {\n                    blob = items[i].getAsFile();\n                }\n            }\n            // load image if there is a pasted image\n            if (blob !== null) {\n                let reader = new FileReader();\n                reader.onload = function (event) {\n                    document.querySelector('.preview-image').classList.add(\"on\");\n                    document.querySelector(\".preview-image #preview\").src = this.result;\n                };\n                reader.readAsDataURL(blob);\n                this.formData.append(\"photo\", blob);\n            }\n        } catch (e) { console.log(e) }\n    }\n\n    clearFormDataImage = () => {\n        document.querySelector('.preview-image').classList.remove(\"on\");\n        document.querySelector('.preview-image #preview').src = \"\";\n        this.formData.delete(\"photo\");\n    }\n\n    previewPhoto = (event) => {\n        let reader = new FileReader();\n        document.querySelector('.preview-image').classList.add(\"on\");\n        let inputAvatar = document.querySelector('.preview-image #preview');\n        reader.onload = function () {\n            inputAvatar.src = reader.result;\n        }\n        try {\n            reader.readAsDataURL(event.target.files[0]);\n            this.formData.append(\"photo\", event.target.files[0]);\n        } catch (e) {\n            // do nothing\n        }\n    }\n\n    checkUserEnter = (e) => {\n        if (e.keyCode === 13) {\n            this.handleSendMessageFromChanel();\n        }\n    }\n\n    toggleDropdown = () => {\n        try {\n            let drdElement = document.querySelector(\"#chat-area .list-more\");\n            if (drdElement.classList.length > 2) {\n                drdElement.classList.remove(\"active\");\n            } else {\n                drdElement.classList.add(\"active\");\n                document.getElementById(\"root\").addEventListener(\"click\", () => {\n                    drdElement.classList.remove(\"active\");\n                });\n            }\n        } catch (e) { }\n    }\n\n    render() {\n        let { messageList, onlineUsers } = this.state;\n        let uid = this.props.userPayload.user._id;\n\n        let tabActive = document.querySelectorAll(\".item-discussions.active\");\n        Array.from(tabActive).map(el => { el.classList.remove(\"active\") });\n        // active tab\n        let idTabElement = `dcs_${this.CHANEL_AN}`;\n        let tabElement = document.getElementById(idTabElement);\n        if (tabElement) {\n            tabElement.classList.add(\"active\")\n        }\n\n        return (\n            <Template tabPenel=\"-none\" widthRight=\"calc(100% - 80px)\">\n                <div id=\"video-player\">\n                    \n                </div>\n                <div id=\"chat-area\" className=\"chat-server\">\n                    <div className=\"top\">\n                        <div className=\"inside\">\n\n                            <div className=\"data\">\n                                <h5><a href=\"/chanels\">Anonymous</a></h5>\n                            </div>\n                            <button className=\"btn d-md-block audio-call\" title=\"Audio call\">\n                                <i className=\"ti-headphone-alt\" />\n                            </button>\n                            <button className=\"btn d-md-block audio-call\" title=\"Audio call\">\n                                <i className=\"ti-video-camera\" />\n                            </button>\n                            <button className=\"btn d-md-block audio-call\" title=\"Audio call\">\n                                <i className=\"ti-info\" />\n                            </button>\n\n                            <div className=\"dropdown\" onClick={this.toggleDropdown}>\n                                <button className=\"btn d-md-block audio-call\" title=\"Audio call\">\n                                    <i className=\"ti-gird\" />\n                                </button>\n\n                                <div className=\"dropdown-list list-more\">\n                                    <a href=\"/\" className=\"voice\">Voice Call</a>\n                                    <a href=\"/\" className=\"voice\">Video Call</a>\n                                    <hr />\n                                    <a href=\"/\" className=\"voice\">Clear History</a>\n                                    <a href=\"/\" className=\"voice\">Block Contact</a>\n                                    <a href=\"/\" className=\"voice\">Delete Contact</a>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                    <aside >\n                        <div>\n                            <div className=\"content\">\n                                <div className=\"container\">\n                                    {\n                                        messageList.map((item, i) => {\n                                            if (i === this.LIMIT_MESSAGES - 1) {\n                                                return <>\n                                                    <div id=\"start-of-message\"></div>\n                                                    <ItemMessage\n                                                        key={i}\n                                                        isMe={item.sender._id === uid ? \"me\" : \"\"}\n                                                        content={item.content}\n                                                        contentPhoto={item.photo}\n                                                        photo={item.sender.photo}\n                                                        date={moment(item.created).fromNow() || \"just now\"}\n                                                        name={item.sender.fullname || item.sender.email}\n                                                        uid={item.sender._id}\n                                                    />\n                                                </>\n                                            }\n                                            return (\n                                                <ItemMessage\n                                                    key={i}\n                                                    isMe={item.sender._id === uid ? \"me\" : \"\"}\n                                                    content={item.content}\n                                                    contentPhoto={item.photo}\n                                                    photo={item.sender.photo}\n                                                    date={moment(item.created).fromNow() || \"just now\"}\n                                                    name={item.sender.fullname || item.sender.email}\n                                                    uid={item.sender._id}\n                                                />\n                                            )\n                                        })\n                                    }\n                                    <div id=\"end-of-message\"></div>\n                                </div>\n                                <div className=\"scroller\" />\n                            </div>\n                            <div className=\"bottom\">\n                                <div className=\"text-area\">\n                                    <input\n                                        id=\"text-message\" className=\"form-control\" placeholder=\"Start typing for reply...\" rows={1} defaultValue={\"\"}\n                                        onPaste={this.handlePasteToInput}\n                                    />\n                                    <div className=\"add-smiles\">\n                                        <span title=\"add icon\" className=\"em em-blush\" />\n                                    </div>\n                                    <button onClick={this.handleSendMessageFromChanel} style={{ height: '56x', outline: \"none\" }} type=\"submit\" className=\"btn send\"><i className=\"ti-location-arrow\" /></button>\n                                    <label className=\"label-input input-file\">\n                                        <input\n                                            type=\"file\" className=\"d-none\"\n                                            accept=\"image/*\"\n                                            onChange={this.previewPhoto}\n                                        />\n                                        <i className=\"ti-clip\" />\n                                    </label>\n                                </div>\n                            </div>\n                            <div onClick={this.clearFormDataImage} className=\"preview-image\">\n                                <img id=\"preview\" src=\"\" alt=\"\" />\n                            </div>\n                        </div>\n                        <div className=\"container tab-panel\">\n                            <div className=\"chanel user-online\">\n                                <header>Member online</header>\n                                {\n                                    onlineUsers.map((user, i) => {\n                                        return <a key={i} href=\"#list-chat\" className=\"item-discussions single\">\n                                            <img className=\"avatar-md\" src=\"https://res.cloudinary.com/ddrw0yq95/image/upload/v1581392392/kjadclbvhq0gjnwvihnp.png\" alt=\"avt\" />\n                                            <div className=\"data\">\n                                                <h5>Guest</h5>\n                                            </div>\n                                        </a>\n                                    })\n                                }\n\n                            </div>\n                        </div>\n                    </aside>\n\n                </div>\n            </Template>\n        )\n    }\n}\n\nexport default ChatAnonymous;","import React from 'react';\nimport { postSignup, postSignin, authenticate, isAuthenticated } from '../controllers/UserController';\nimport './auth.css';\n\n\nclass Auth extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            \n        }\n    }\n\n    handleChangeUI = (next) => {\n        return () => {\n            console.log(next);\n            let eres = document.querySelector(\"#form-reg\");\n            let esig = document.querySelector(\"#form-sig\");\n            let efor = document.querySelector(\"#form-for\");\n            if(next === \"reg\") {\n                eres.classList.remove(\"d-none\");\n                esig.classList.add(\"d-none\");\n                efor.classList.add(\"d-none\");\n            } else if(next === \"sig\") {\n                esig.classList.remove(\"d-none\");\n                eres.classList.add(\"d-none\");\n                efor.classList.add(\"d-none\");\n            } else {\n                efor.classList.remove(\"d-none\");\n                esig.classList.add(\"d-none\");\n                eres.classList.add(\"d-none\");\n            }\n        }\n    }\n\n    componentWillReceiveProps() {\n\n    }\n\n    componentDidMount() {\n        if(isAuthenticated()) {\n            this.props.history.push(\"/\");\n        }\n        const inputRequireDom = Array.from(document.getElementsByTagName(\"input\"));\n        inputRequireDom.slice(0, inputRequireDom.length - 1).map( ip => {\n            return ip.required = true;\n        })\n    }\n\n    handleSubmit = () => {\n        window.event.preventDefault();\n        let email = document.getElementById(\"l-email\").value;\n        let password = document.getElementById(\"l-password\").value;\n        postSignin( {email, password} )\n        .then( res => {\n            if(!res.payload) {\n                alert(res.message)\n            } else {\n                authenticate(res.payload, () => {\n                    this.props.history.push(\"/\");\n                })\n            }\n        })\n    }\n\n    handleRegister = () => {\n        window.event.preventDefault();\n        let patt = /\\d+/;\n\n        let email = document.getElementById(\"r-email\").value;\n        let password = document.getElementById(\"r-password\").value;\n        let passwordAg = document.getElementById(\"r-password-again\").value;\n\n        if (password.match(patt) === null || password.length < 6) {\n            alert(\"password have at least 6 characters and must contain 1 number\");\n        } else if(password !== passwordAg) {\n            alert(\"password and password again do not match!\")\n        } else {\n            postSignup( {email, password} )\n            .then( res => {\n                if(res && !res.payload) {\n                    alert(res.message)\n                } else {\n                    //\n                    this.handleChangeUI()(\"sig\");\n                }\n            })\n        }\n    }\n\n    // handleSubmitForgot = async () => {\n    //     window.event.preventDefault();\n    //     let email = document.getElementById(\"f-email\").value;\n    //     let btnLoading = document.getElementById(\"wrap-forgot-btn\");\n    //     btnLoading.classList.add(\"btn-loading\");\n    //     let res = await forgotPassword(email);\n\n    //     if(res.message) {\n    //         alert(res.message);\n    //     }\n\n    //     btnLoading.classList.remove(\"btn-loading\");\n    // }\n\n\n\n    render() {\n        return ( <div id=\"wrap-auth\">\n                <div className=\"box on\" id=\"form-sig\">\n                    <h2>Login</h2>\n                    <form action=\"/auth\" method=\"POST\">\n                        <div className=\"inputBox\">\n                            <input\n                                type=\"text\" name=\"email\" required=\"\" id=\"l-email\"\n                            />\n                            <label htmlFor=\"email\">Email</label>\n                        </div>\n                        <div className=\"inputBox\">\n                            <input\n                                type=\"password\" name=\"password\" required=\"\" id=\"l-password\"\n                            />\n                            <label htmlFor=\"password\">Password</label>\n                        </div>\n                        <div className=\"d-flex align-items-center\">\n                            <input\n                                type=\"submit\" name=\"\" value=\"Submit\"\n                                onClick={this.handleSubmit}\n                            />\n                            <a\n                                className=\"s-btn s-btn__outline s-btn__hovero bd-none ml-auto\"\n                                style={{\n                                    position: \"relative\",\n                                    zIndex: \"9999\",\n                                    color: \"black\"\n                                }}\n                                onClick={this.handleChangeUI(\"reg\")}\n                                href=\"#c\"\n                            >Register a new account</a>\n                        </div>\n                        <div id=\"forgot-password\" className=\"mt24\">\n                            <a\n                                className=\"s-btn s-btn__outline s-btn__hovero bd-none ml-auto\"\n                                style={{\n                                    position: \"relative\",\n                                    zIndex: \"9999\",\n                                    color: \"black\",\n                                    paddingLeft: 0\n                                }}\n                                onClick={this.handleChangeUI(\"for\")}\n                                href=\"#c\"\n                            >Forgot password?</a>\n                        </div>\n                    </form>\n                </div>\n\n\n                <div className=\"box d-none on\" id=\"form-for\">\n                    <h2>Fortgot password</h2>\n                    <form >\n                        <div className=\"inputBox\">\n                            <input\n                                type=\"text\" name=\"forgotEmail\" required=\"\"  id=\"f-email\"\n                            />\n                            <label htmlFor=\"email\">Email</label>\n                        </div>\n                        <div className=\"d-flex align-items-center\">\n                            <div id=\"wrap-forgot-btn\" className=\"ps-relative\">\n                                <input\n                                    type=\"submit\" name=\"\" value=\"Submit\"\n                                    onClick={this.handleSubmitForgot}\n                                />\n                            </div>\n                            <a\n                                className=\"s-btn s-btn__outline s-btn__hovero bd-none ml-auto\"\n                                style={{\n                                    position: \"relative\",\n                                    zIndex: \"9999\",\n                                    color: \"black\"\n                                }}\n                                onClick={this.handleChangeUI(\"sig\")}\n                                href=\"#c\"\n                            >Login</a>\n                        </div>\n                    </form>\n                </div>\n\n\n                <div className=\"box d-none on\" id=\"form-reg\">\n                    <h2>Register</h2>\n                    <form action=\"/auth\" method=\"POST\">\n                        <div className=\"inputBox\">\n                            <input\n                                type=\"email\" name=\"email\" required=\"\" autoComplete={\"off\"} id=\"r-email\"\n                            />\n                            <label htmlFor=\"email\">Email</label>\n                        </div>\n                        <div className=\"inputBox\">\n                            <input\n                                type=\"password\" name=\"password\" required=\"\" id=\"r-password\"\n                            />\n                            <label htmlFor=\"password\">Password</label>\n                        </div>\n                        <div className=\"inputBox\">\n                            <input\n                                type=\"password\" name=\"password-again\" required=\"\" id=\"r-password-again\"\n                            />\n                            <label htmlFor=\"password-again\">Password again</label>\n                        </div>\n                        <div className=\"d-flex align-items-center\">\n                            <input\n                                type=\"submit\" name=\"\" value=\"Submit\"\n                                onClick={this.handleRegister}\n                            />\n                            <a\n                                className=\"s-btn s-btn__outline s-btn__hovero bd-none ml-auto\"\n                                style={{\n                                    position: \"relative\",\n                                    zIndex: \"9999\",\n                                    color: \"black\"\n                                }}\n                                onClick={this.handleChangeUI(\"sig\")}\n                                href=\"#c\"\n                            >Login</a>\n                        </div>\n                    </form>\n                </div>\n\n            </div>\n        )\n        \n    }\n}\n\n\nexport default Auth;","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport { isAuthenticated } from './controllers/UserController';\n\nconst PrivateRoute = ({ component: Component, ...rest }) => {\n    return (\n        <Route\n            {...rest}\n            render={props =>\n                isAuthenticated() ? (\n                    <Component {...props} userPayload={isAuthenticated()} />\n                ) : (\n                        <Redirect\n                            to={{\n                                pathname: \"/auth\",\n                                state: { from: props.location }\n                            }}\n                        />\n                    )\n            }\n        />\n    );\n}\n\nexport default PrivateRoute;","import React from 'react';\nimport { Route, Switch, withRouter } from 'react-router-dom';\nimport \"./App.css\";\nimport ChatArea from './chats/ChatArea';\nimport Discovery from './component/Discovery';\nimport ChatServerArea from \"./chats/ChatServerArea\";\nimport ChatAnonymous from \"./chats/ChatAnonymous\";\nimport Auth from './users/Auth';\nimport PrivateRoute from './PrivateRoute';\n\nclass App extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n\n    }\n  }\n\n\n\n  componentDidMount() {\n    console.log(process.env.REACT_APP_API_URL)\n  }\n\n  render() {\n    return (\n      <>\n        <Switch>\n          <PrivateRoute exact path=\"/\" component={ChatArea} />\n          <PrivateRoute exact path=\"/discovery\" component={Discovery} />\n          <PrivateRoute exact path=\"/chanels/:chanelId\" component={ChatServerArea} />\n          <PrivateRoute exact path=\"/chanels/anonymous/ha\" component={ChatAnonymous} />\n          <PrivateRoute exact path=\"/chanels/@me/:toUid\" component={ChatArea} />\n\n          \n          <Route exact path=\"/auth\" component={Auth} />\n        </Switch>\n      </>\n    )\n  }\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport { BrowserRouter } from \"react-router-dom\";\n// import PrivateRoute from './PrivateRoute';\nimport App from './App';\n\nclass MainRouter extends React.Component {\n    render() {\n        return <BrowserRouter>\n            <App />\n        </BrowserRouter>\n    }\n}\n\nexport default MainRouter;","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport MainRouter from './MainRouter';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<MainRouter />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","module.exports = __webpack_public_path__ + \"static/media/867443.c5ee5511.jpg\";","module.exports = __webpack_public_path__ + \"static/media/layd.a4cfb21c.jpg\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHcAAAAgCAYAAAAosufFAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2ZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoyNDg2RDU1Nzc3MTJFOTExODVFRUQ0OEMyQThFMDQ5RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo1NUVFMkNDMzQzMDcxMUU5ODdEMkY5MTI4MkJBMjYxRiIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo1NUVFMkNDMjQzMDcxMUU5ODdEMkY5MTI4MkJBMjYxRiIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ1M2IChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjc3NUEyMDkwODExRUU5MTFCQ0FFOTdFMkIzNTYzNDAxIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjI0ODZENTU3NzcxMkU5MTE4NUVFRDQ4QzJBOEUwNDlEIi8+IDwvcmRmOkRlc2NyaXB0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\"","module.exports = __webpack_public_path__ + \"static/media/ntf.e45480b3.mp3\";","module.exports = __webpack_public_path__ + \"static/media/rs-bg.ccf6cbed.png\";"],"sourceRoot":""}