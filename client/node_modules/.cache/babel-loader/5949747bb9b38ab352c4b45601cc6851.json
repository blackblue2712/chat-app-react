{"ast":null,"code":"import { searchYoutube } from '../controllers/ChanelController';\nimport YouTubePlayer from 'youtube-player';\n\nclass YoutubePlay {\n  constructor(player, onPlayQueue = [], startSeconds = 0) {\n    this.onPlayQueue = onPlayQueue;\n    this.onPlayQueueName = [];\n    this.onPlaying = false;\n    this.player = player;\n    this.onPlayingSong = null;\n    this.startSeconds = startSeconds;\n  }\n\n  searchYoutube(q) {\n    searchYoutube(q).then(res => {\n      console.log(res);\n      let vid = res.videoId;\n      this.onPlayQueueName.push(res.title);\n      this.playVideo(vid);\n    });\n  }\n\n  playVideo(vid) {\n    if (vid) {\n      this.onPlayQueue.push(vid);\n    }\n\n    if (this.onPlaying === false) {\n      this.onPlayingSong = this.onPlayQueue.shift();\n      this.onPlayQueueName.shift();\n      this.player.loadVideoById({\n        videoId: this.onPlayingSong,\n        startSeconds: this.startSeconds\n      });\n      this.player.playVideo();\n      this.onPlaying = true;\n    }\n\n    this.player.on('stateChange', event => {\n      if (event.data === 0) {\n        this.player.destroy();\n        document.getElementById(\"video-player\").remove();\n        var node = document.createElement(\"div\"); // Create a <li> node\n\n        node.id = \"video-player\";\n        document.getElementById(\"root\").appendChild(node);\n        this.player = YouTubePlayer('video-player');\n        this.onPlaying = false;\n\n        if (this.onPlayQueue.length > 0) {\n          this.onPlaying = true;\n          this.onPlayingSong = this.onPlayQueue.shift();\n          this.onPlayQueueName.shift();\n          this.player.loadVideoById(this.onPlayingSong);\n          this.player.playVideo();\n        }\n      }\n    });\n    console.log(this.player);\n  }\n\n  getPlayQueue() {\n    return this.onPlayQueue;\n  }\n\n  getIsPlaying() {\n    return this.onPlaying;\n  }\n\n  getCurrentTime() {\n    return this.player.getCurrentTime();\n  }\n\n  getCurrentSong() {\n    return this.onPlayingSong;\n  }\n\n  getPlayQueueName() {\n    return this.onPlayQueueName;\n  }\n\n}\n\nexport default YoutubePlay;","map":{"version":3,"sources":["/opt/lampp/htdocs/STUDY_SPACE/chat-app/src/chats/YoutubePlay.js"],"names":["searchYoutube","YouTubePlayer","YoutubePlay","constructor","player","onPlayQueue","startSeconds","onPlayQueueName","onPlaying","onPlayingSong","q","then","res","console","log","vid","videoId","push","title","playVideo","shift","loadVideoById","on","event","data","destroy","document","getElementById","remove","node","createElement","id","appendChild","length","getPlayQueue","getIsPlaying","getCurrentTime","getCurrentSong","getPlayQueueName"],"mappings":"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","sourcesContent":["import { searchYoutube } from '../controllers/ChanelController';\nimport YouTubePlayer from 'youtube-player';\n\nclass YoutubePlay {\n    constructor(player, onPlayQueue = [], startSeconds = 0) {\n        this.onPlayQueue = onPlayQueue;\n        this.onPlayQueueName = [];\n        this.onPlaying = false;\n        this.player = player;\n        this.onPlayingSong = null;\n        this.startSeconds = startSeconds;\n    }\n\n    searchYoutube(q) {\n        searchYoutube(q)\n            .then(res => {\n                console.log(res)\n                let vid = res.videoId;\n                this.onPlayQueueName.push(res.title);\n                this.playVideo(vid)\n            })\n\n    }\n\n    playVideo(vid) {\n        if (vid) {\n            this.onPlayQueue.push(vid);\n        }\n\n        if (this.onPlaying === false) {\n            this.onPlayingSong = this.onPlayQueue.shift();\n            this.onPlayQueueName.shift();\n            this.player.loadVideoById({\n                videoId: this.onPlayingSong,\n                startSeconds: this.startSeconds\n            });\n            this.player.playVideo();\n            this.onPlaying = true;\n        }\n\n\n        this.player.on('stateChange', (event) => {\n            if (event.data === 0) {\n                this.player.destroy();\n                document.getElementById(\"video-player\").remove();\n                var node = document.createElement(\"div\");                 // Create a <li> node\n                node.id = \"video-player\";\n                document.getElementById(\"root\").appendChild(node);\n                this.player = YouTubePlayer('video-player');\n                this.onPlaying = false;\n                if (this.onPlayQueue.length > 0) {\n                    this.onPlaying = true;\n                    this.onPlayingSong = this.onPlayQueue.shift();\n                    this.onPlayQueueName.shift();\n                    this.player.loadVideoById(this.onPlayingSong);\n                    this.player.playVideo();\n                }\n            }\n        });\n        console.log(this.player);\n    }\n    \n    getPlayQueue() {\n        return this.onPlayQueue;\n    }\n\n    getIsPlaying() {\n        return this.onPlaying;\n    }\n\n    getCurrentTime() {\n        return this.player.getCurrentTime();\n    }\n\n    getCurrentSong() {\n        return this.onPlayingSong;\n    }\n\n    getPlayQueueName() {\n        return this.onPlayQueueName;\n    }\n}\n\nexport default YoutubePlay;\n"]},"metadata":{},"sourceType":"module"}