{"ast":null,"code":"import { searchYoutube } from '../controllers/ChanelController';\n\nclass YoutubePlay {\n  constructor(player) {\n    this.onPlayQueue = [];\n    this.onPlaying = false;\n    this.player = player;\n  }\n\n  searchYoutube(q) {\n    searchYoutube(q).then(res => {\n      let vid = res.videoId;\n      let playerVars = {\n        statr: '30'\n      };\n      this.player.playerVars = playerVars;\n\n      if (vid) {\n        this.onPlayQueue.push(vid);\n      }\n\n      if (!this.onPlaying) {\n        this.player.loadVideoById(this.onPlayQueue.shift());\n        this.player.playVideo();\n        this.onPlaying = true;\n      }\n\n      this.player.on('stateChange', event => {\n        if (event.data === 0) {\n          this.onPlaying = false;\n\n          if (this.onPlayQueue.length > 0) {\n            this.onPlaying = true;\n            this.player.loadVideoById(this.onPlayQueue.shift());\n            this.player.playVideo();\n          }\n        }\n      });\n      console.log(this.player);\n      setTimeout(() => {\n        this.player.getCurrentTime().then(res => console.log(res));\n      }, 3000);\n    });\n  }\n\n}\n\nexport default YoutubePlay;","map":{"version":3,"sources":["/opt/lampp/htdocs/STUDY_SPACE/chat-app/src/chats/YoutubePlay.js"],"names":["searchYoutube","YoutubePlay","constructor","player","onPlayQueue","onPlaying","q","then","res","vid","videoId","playerVars","statr","push","loadVideoById","shift","playVideo","on","event","data","length","console","log","setTimeout","getCurrentTime"],"mappings":"AAAA,SAASA,aAAT,QAA8B,iCAA9B;;AAGA,MAAMC,WAAN,CAAkB;AACdC,EAAAA,WAAW,CAACC,MAAD,EAAS;AAChB,SAAKC,WAAL,GAAmB,EAAnB;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKF,MAAL,GAAcA,MAAd;AACH;;AAEDH,EAAAA,aAAa,CAACM,CAAD,EAAI;AACbN,IAAAA,aAAa,CAACM,CAAD,CAAb,CACKC,IADL,CACUC,GAAG,IAAI;AACT,UAAIC,GAAG,GAAGD,GAAG,CAACE,OAAd;AACA,UAAIC,UAAU,GAAG;AAAEC,QAAAA,KAAK,EAAE;AAAT,OAAjB;AACA,WAAKT,MAAL,CAAYQ,UAAZ,GAAyBA,UAAzB;;AACA,UAAIF,GAAJ,EAAS;AACL,aAAKL,WAAL,CAAiBS,IAAjB,CAAsBJ,GAAtB;AACH;;AAED,UAAI,CAAC,KAAKJ,SAAV,EAAqB;AACjB,aAAKF,MAAL,CAAYW,aAAZ,CAA0B,KAAKV,WAAL,CAAiBW,KAAjB,EAA1B;AACA,aAAKZ,MAAL,CAAYa,SAAZ;AACA,aAAKX,SAAL,GAAiB,IAAjB;AACH;;AAGD,WAAKF,MAAL,CAAYc,EAAZ,CAAe,aAAf,EAA+BC,KAAD,IAAW;AACrC,YAAIA,KAAK,CAACC,IAAN,KAAe,CAAnB,EAAsB;AAClB,eAAKd,SAAL,GAAiB,KAAjB;;AACA,cAAI,KAAKD,WAAL,CAAiBgB,MAAjB,GAA0B,CAA9B,EAAiC;AAC7B,iBAAKf,SAAL,GAAiB,IAAjB;AACA,iBAAKF,MAAL,CAAYW,aAAZ,CAA0B,KAAKV,WAAL,CAAiBW,KAAjB,EAA1B;AACA,iBAAKZ,MAAL,CAAYa,SAAZ;AACH;AACJ;AACJ,OATD;AAUAK,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKnB,MAAjB;AACAoB,MAAAA,UAAU,CAAC,MAAM;AACb,aAAKpB,MAAL,CAAYqB,cAAZ,GAA6BjB,IAA7B,CAAkCC,GAAG,IAAIa,OAAO,CAACC,GAAR,CAAYd,GAAZ,CAAzC;AACH,OAFS,EAEP,IAFO,CAAV;AAGH,KA9BL;AAgCH;;AAxCa;;AA2ClB,eAAeP,WAAf","sourcesContent":["import { searchYoutube } from '../controllers/ChanelController';\n\n\nclass YoutubePlay {\n    constructor(player) {\n        this.onPlayQueue = [];\n        this.onPlaying = false\n        this.player = player;\n    }\n\n    searchYoutube(q) {\n        searchYoutube(q)\n            .then(res => {\n                let vid = res.videoId;\n                let playerVars = { statr: '30' }\n                this.player.playerVars = playerVars;\n                if (vid) {\n                    this.onPlayQueue.push(vid);\n                }\n\n                if (!this.onPlaying) {\n                    this.player.loadVideoById(this.onPlayQueue.shift());\n                    this.player.playVideo();\n                    this.onPlaying = true;\n                }\n\n\n                this.player.on('stateChange', (event) => {\n                    if (event.data === 0) {\n                        this.onPlaying = false;\n                        if (this.onPlayQueue.length > 0) {\n                            this.onPlaying = true;\n                            this.player.loadVideoById(this.onPlayQueue.shift());\n                            this.player.playVideo();\n                        }\n                    }\n                });\n                console.log(this.player)\n                setTimeout(() => {\n                    this.player.getCurrentTime().then(res => console.log(res))\n                }, 3000)\n            })\n\n    }\n}\n\nexport default YoutubePlay;\n"]},"metadata":{},"sourceType":"module"}