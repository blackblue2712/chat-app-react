{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/STUDY_SPACE/chat-app/src/component/Discussion.js\";\nimport React from 'react';\nimport { Link } from 'react-router-dom';\nimport settingImage from '../imgs/867443.jpg';\nimport { isAuthenticated, getUsers, findUser } from '../controllers/UserController';\n\nclass Discussion extends React.Component {\n  constructor() {\n    super();\n\n    this.onSubmitFormSearch = e => {\n      e.preventDefault();\n      let searchText = document.querySelector(\"#search-friend\");\n\n      let uid = isAuthenticated().user._id;\n\n      if (searchText.value.length > 0) {\n        findUser(searchText.value, uid).then(users => {\n          this.setState({\n            users\n          });\n        });\n      }\n    };\n\n    this.activeElement = id => {\n      let tabActive = document.querySelectorAll(\".item-discussions.active\");\n      Array.from(tabActive).map(el => {\n        el.classList.remove(\"active\");\n      });\n      document.getElementById(id).classList.add(\"active\");\n    };\n\n    this.state = {\n      users: []\n    };\n  }\n\n  componentDidMount() {\n    try {\n      let uid = isAuthenticated().user._id;\n\n      getUsers(uid).then(res => {\n        this.setState({\n          users: res\n        });\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    let listUsers = this.state.users;\n    return React.createElement(React.Fragment, null, React.createElement(\"div\", {\n      className: \"search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      onSubmit: this.onSubmitFormSearch,\n      action: \"#\",\n      name: \"search-friend-form\",\n      id: \"search-friend-form\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      id: \"search-friend\",\n      placeholder: \"Search for conservations ...\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }), React.createElement(\"button\", {\n      className: \"button button-link\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      style: {\n        fill: '#2298ff'\n      },\n      \"aria-hidden\": \"true\",\n      className: \"svg-icon s-input-icon s-input-icon__search iconSearch\",\n      width: 16,\n      height: 16,\n      viewBox: \"0 0 18 18\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }))))), React.createElement(\"div\", {\n      className: \"discussions\",\n      id: \"scroller\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Chats\"), React.createElement(\"div\", {\n      className: \"list-group chats\",\n      id: \"chats\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, listUsers.map((user, index) => {\n      let username = user.fullname || user.email;\n      return React.createElement(Link, {\n        onClick: () => this.activeElement(`dcs_${user._id}`),\n        title: username,\n        style: {\n          order: index + 1\n        },\n        id: `dcs_${user._id}`,\n        tabIndex: index,\n        key: index,\n        to: `/chanels/@me/${user._id}`,\n        className: \"item-discussions single unread\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"avatar-md\",\n        src: user.photo || settingImage,\n        alt: \"avt\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"status online\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"data\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, React.createElement(\"h5\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68\n        },\n        __self: this\n      }, username), React.createElement(\"div\", {\n        className: \"count-unread\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"new bg-red\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, React.createElement(\"span\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 70\n        },\n        __self: this\n      }, \"0\")))));\n    }), React.createElement(\"div\", {\n      className: \"scroller\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nexport default Discussion;","map":{"version":3,"sources":["/opt/lampp/htdocs/STUDY_SPACE/chat-app/src/component/Discussion.js"],"names":["React","Link","settingImage","isAuthenticated","getUsers","findUser","Discussion","Component","constructor","onSubmitFormSearch","e","preventDefault","searchText","document","querySelector","uid","user","_id","value","length","then","users","setState","activeElement","id","tabActive","querySelectorAll","Array","from","map","el","classList","remove","getElementById","add","state","componentDidMount","res","console","log","render","listUsers","fill","index","username","fullname","email","order","photo"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Link } from 'react-router-dom';\nimport settingImage from '../imgs/867443.jpg';\nimport { isAuthenticated, getUsers, findUser } from '../controllers/UserController';\n\n\nclass Discussion extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            users: [],\n        }\n\n    }\n\n    componentDidMount() {\n        try {\n            let uid = isAuthenticated().user._id;\n            getUsers(uid)\n                .then(res => {\n                    this.setState({ users: res });\n                })\n        } catch (e) { console.log(e) }\n    }\n\n\n    onSubmitFormSearch = (e) => {\n        e.preventDefault();\n        let searchText = document.querySelector(\"#search-friend\");\n        let uid = isAuthenticated().user._id;\n        if(searchText.value.length > 0) {\n            findUser(searchText.value, uid)\n                .then(users => {\n                    this.setState({ users });\n                })\n        }\n    }\n\n    activeElement = (id) => {\n        let tabActive = document.querySelectorAll(\".item-discussions.active\");\n        Array.from(tabActive).map(el => { el.classList.remove(\"active\") });\n        document.getElementById(id).classList.add(\"active\")\n    }\n\n    render() {\n        let listUsers = this.state.users;\n\n        return (\n            <>\n                <div className=\"search\">\n                    <form onSubmit={this.onSubmitFormSearch} action=\"#\" name=\"search-friend-form\" id=\"search-friend-form\">\n                        <input type=\"text\" id=\"search-friend\" placeholder=\"Search for conservations ...\" />\n                        <button className=\"button button-link\">\n                            <svg style={{ fill: '#2298ff' }} aria-hidden=\"true\" className=\"svg-icon s-input-icon s-input-icon__search iconSearch\" width={16} height={16} viewBox=\"0 0 18 18\"><path d=\"M18 16.5l-5.14-5.18h-.35a7 7 0 1 0-1.19 1.19v.35L16.5 18l1.5-1.5zM12 7A5 5 0 1 1 2 7a5 5 0 0 1 10 0z\" /></svg>\n                        </button>\n                    </form>\n                </div>\n                <div className=\"discussions\" id=\"scroller\">\n                    <h1>Chats</h1>\n                    <div className=\"list-group chats\" id=\"chats\">\n                        {\n                            listUsers.map((user, index) => {\n                                let username = user.fullname || user.email;\n                                return <Link onClick={() => this.activeElement(`dcs_${user._id}`)} title={username} style={{ order: index + 1 }} id={`dcs_${user._id}`} tabIndex={index} key={index} to={`/chanels/@me/${user._id}`} className=\"item-discussions single unread\">\n                                    <img className=\"avatar-md\" src={user.photo || settingImage} alt=\"avt\" />\n                                    <div className=\"status online\" />\n                                    <div className=\"data\">\n                                        <h5>{username}</h5>\n                                        <div className=\"count-unread\">\n                                            <div className=\"new bg-red\"><span>0</span></div>\n                                        </div>\n\n                                        {/* <span>Sun</span>\n                                    <p>How can i improve my chances?</p> */}\n                                    </div>\n                                </Link>\n                            })\n                        }\n\n                        <div className=\"scroller\" />\n                    </div>\n                </div>\n            </>\n        )\n    }\n}\n\nexport default Discussion;\n"]},"metadata":{},"sourceType":"module"}