{"ast":null,"code":"var _jsxFileName = \"/opt/lampp/htdocs/STUDY_SPACE/chat-app/src/chats/ChatServerArea.js\";\nimport React from 'react';\nimport ItemMessage from '../chats/ItemMessage';\nimport ItemMessageAttachment from '../chats/ItemMessageAttachment';\nimport socketIOClient from 'socket.io-client';\nimport { isAuthenticated } from '../controllers/UserController';\n\nclass ChatServerArea extends React.Component {\n  constructor() {\n    super();\n\n    this.handleSendMessageFromChanel = () => {\n      try {\n        window.event.preventDefault();\n        let {\n          chanelId\n        } = this.props.match.params;\n        let textMessage = document.getElementById(\"text-message\");\n        this.socket.emit(\"client-send-message-from-chanel\", {\n          chanelId,\n          textMessage: textMessage.value\n        }, () => {\n          textMessage.value = \"\";\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    this.toggleDropdown = () => {\n      try {\n        let drdElement = document.querySelector(\"#chat-area .list-more\");\n\n        if (drdElement.classList.length > 2) {\n          drdElement.classList.remove(\"active\");\n        } else {\n          drdElement.classList.add(\"active\");\n          document.getElementById(\"root\").addEventListener(\"click\", () => {\n            drdElement.classList.remove(\"active\");\n          });\n        }\n      } catch (e) {}\n    };\n\n    this.state = {\n      messageList: []\n    };\n  }\n\n  componentDidMount() {\n    try {\n      this.socket = socketIOClient(process.env.REACT_APP_API_URL, {\n        transports: ['websocket']\n      }); // wait client connect\n\n      this.socket.on('connect', () => {\n        let {\n          chanelId\n        } = this.props.match.params;\n        let sid = this.socket.id;\n        let uid = \"nghia123\";\n        this.socket.emit(\"join-chanel\", {\n          sid,\n          uid,\n          chanelId\n        }, () => {\n          console.log(\"User has join this chanel\", chanelId);\n        });\n        this.socket.on(\"server-send-message-from-chanel\", data => {\n          console.log(data);\n          this.setState({\n            messageList: this.state.messageList.concat(data.textMessage)\n          });\n        });\n        this.socket.on(\"list-connected-chanel-users\", users => {\n          console.log(users);\n        });\n      });\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  checkUserEnter(e) {\n    console.log(e);\n  }\n\n  render() {\n    let {\n      messageList\n    } = this.state;\n    console.log(messageList);\n    return React.createElement(\"div\", {\n      id: \"chat-area\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"inside\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn d-md-block d-none audio-call\",\n      title: \"Audio call\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ti-headphone-alt\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn d-md-block d-none audio-call\",\n      title: \"Audio call\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ti-video-camera\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      className: \"btn d-md-block d-none audio-call\",\n      title: \"Audio call\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ti-info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"dropdown\",\n      onClick: this.toggleDropdown,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      className: \"btn d-md-block d-none audio-call\",\n      title: \"Audio call\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ti-gird\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"dropdown-list list-more\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      href: \"\",\n      className: \"voice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, \"Voice Call\"), React.createElement(\"a\", {\n      href: \"\",\n      className: \"voice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, \"Video Call\"), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      href: \"\",\n      className: \"voice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }, \"Clear History\"), React.createElement(\"a\", {\n      href: \"\",\n      className: \"voice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, \"Block Contact\"), React.createElement(\"a\", {\n      href: \"\",\n      className: \"voice\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, \"Delete Contact\"))))), React.createElement(\"div\", {\n      className: \"content\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, messageList.map((item, i) => {\n      return React.createElement(ItemMessage, {\n        key: i,\n        isMe: \"me\",\n        content: item,\n        date: \"09:46 AM\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        },\n        __self: this\n      });\n    })), React.createElement(\"div\", {\n      className: \"scroller\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"bottom\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"text-area\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, React.createElement(\"textarea\", {\n      id: \"text-message\",\n      className: \"form-control\",\n      placeholder: \"Start typing for reply...\",\n      rows: 1,\n      defaultValue: \"\",\n      onChange: e => this.checkUserEnter(e.target.value, e.target.keyCode),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"add-smiles\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      title: \"add icon\",\n      className: \"em em-blush\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"smiles-bunch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"em em---1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-smiley\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-anguished\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-laughing\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-angry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-astonished\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-blush\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-disappointed\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-worried\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-kissing_heart\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 215\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-rage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-stuck_out_tongue\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-expressionless\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-bikini\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-christmas_tree\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-facepunch\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-pushpin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-tada\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-us\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 224\n      },\n      __self: this\n    }), React.createElement(\"i\", {\n      className: \"em em-rose\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 225\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      onClick: this.handleSendMessageFromChanel,\n      style: {\n        height: '56x',\n        outline: \"none\"\n      },\n      type: \"submit\",\n      className: \"btn send\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ti-location-arrow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 227\n      },\n      __self: this\n    }))), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      className: \"d-none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 230\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"btn attach\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }, React.createElement(\"i\", {\n      className: \"ti-clip\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 231\n      },\n      __self: this\n    }))))) // <div id=\"call-area\">\n    // </div>\n    ;\n  }\n\n}\n\nexport default ChatServerArea;","map":{"version":3,"sources":["/opt/lampp/htdocs/STUDY_SPACE/chat-app/src/chats/ChatServerArea.js"],"names":["React","ItemMessage","ItemMessageAttachment","socketIOClient","isAuthenticated","ChatServerArea","Component","constructor","handleSendMessageFromChanel","window","event","preventDefault","chanelId","props","match","params","textMessage","document","getElementById","socket","emit","value","e","console","log","toggleDropdown","drdElement","querySelector","classList","length","remove","add","addEventListener","state","messageList","componentDidMount","process","env","REACT_APP_API_URL","transports","on","sid","id","uid","data","setState","concat","users","checkUserEnter","render","map","item","i","target","keyCode","height","outline"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ItemMessage from '../chats/ItemMessage';\nimport ItemMessageAttachment from '../chats/ItemMessageAttachment';\nimport socketIOClient from 'socket.io-client';\nimport { isAuthenticated } from '../controllers/UserController';\n\nclass ChatServerArea extends React.Component {\n    constructor() {\n        super();\n        this.state = {\n            messageList: [],\n        }\n    }\n\n    componentDidMount() {\n        try {\n            this.socket = socketIOClient(process.env.REACT_APP_API_URL, {transports: ['websocket']});\n\n            // wait client connect\n            this.socket.on('connect', () => {\n                let { chanelId } = this.props.match.params;\n                let sid = this.socket.id;\n                let uid = \"nghia123\";\n\n                this.socket.emit(\"join-chanel\", {sid, uid, chanelId}, () => {\n                    console.log(\"User has join this chanel\", chanelId);\n                })\n\n                this.socket.on(\"server-send-message-from-chanel\", (data) => {\n                    console.log(data);\n                    this.setState( {messageList: this.state.messageList.concat(data.textMessage)} )\n                });\n                this.socket.on(\"list-connected-chanel-users\", users => {\n                    console.log(users);\n                })\n\n            });\n            \n        } catch (e) { console.log(e) }\n    }\n\n    handleSendMessageFromChanel = () => {\n        try {\n            window.event.preventDefault();\n            let { chanelId } = this.props.match.params;\n            let textMessage = document.getElementById(\"text-message\");\n\n            this.socket.emit(\"client-send-message-from-chanel\", {chanelId, textMessage: textMessage.value}, () => {\n                textMessage.value = \"\";\n            })\n\n            \n        } catch (e) { console.log(e) }\n    }\n\n    checkUserEnter(e) {\n        console.log(e)\n    }\n\n\n\n    toggleDropdown = () => {\n      try {\n        let drdElement = document.querySelector(\"#chat-area .list-more\");\n        if(drdElement.classList.length > 2) {\n          drdElement.classList.remove(\"active\");\n        } else {\n          drdElement.classList.add(\"active\");\n          document.getElementById(\"root\").addEventListener(\"click\", () => {\n            drdElement.classList.remove(\"active\");\n          });\n        }\n      } catch(e) {}\n    }  \n\n    render() {\n        let { messageList } = this.state;\n        console.log(messageList)\n        return (\n            <div id=\"chat-area\">\n              <div className=\"top\">\n                <div className=\"inside\">\n                  {/* <div className=\"status online\" />\n                  <div className=\"data\">\n                    <h5><a href=\"#\">Sarah Dalton</a></h5>\n                    <span>Active now</span>\n                  </div> */}\n                  <button className=\"btn d-md-block d-none audio-call\" title=\"Audio call\">\n                    <i className=\"ti-headphone-alt\" />\n                  </button>\n                  <button className=\"btn d-md-block d-none audio-call\" title=\"Audio call\">\n                    <i className=\"ti-video-camera\" />\n                  </button>\n                  <button className=\"btn d-md-block d-none audio-call\" title=\"Audio call\">\n                    <i className=\"ti-info\" />\n                  </button>\n\n                  <div className=\"dropdown\" onClick={this.toggleDropdown}>\n                    <button className=\"btn d-md-block d-none audio-call\" title=\"Audio call\">\n                      <i className=\"ti-gird\" />\n                    </button>\n\n                    <div className=\"dropdown-list list-more\">\n                      <a href=\"\" className=\"voice\">Voice Call</a>\n                      <a href=\"\" className=\"voice\">Video Call</a>\n                      <hr/>\n                      <a href=\"\" className=\"voice\">Clear History</a>\n                      <a href=\"\" className=\"voice\">Block Contact</a>\n                      <a href=\"\" className=\"voice\">Delete Contact</a>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className=\"content\">\n                <div className=\"container\">\n                    {\n                        messageList.map( (item, i) => {\n                            return (\n                                <ItemMessage \n                                    key={i}\n                                    isMe=\"me\"\n                                    content={item}\n                                    date=\"09:46 AM\"\n                                />\n                            )\n                        })\n                    }\n                  {/* <div className=\"date\">\n                    <hr />\n                    <span>Yesterday</span>\n                    <hr />\n                  </div> */}\n                  {/* <ItemMessage \n                    isMe=\"\"\n                    content=\"Where was i, i worry about my viewrs missing me too much!\"\n                    date=\"09:46 AM\"\n                  />\n                  <ItemMessage \n                    isMe=\"me\"\n                    content=\"But if you are not available to talk, then would't they miss you more?\"\n                    date=\"11:32 AM\"\n                  />\n\n                  <ItemMessage \n                    isMe=\"\"\n                    content=\"Aren't you sweet.\"\n                    date=\"02:56 PM\"\n                  />\n\n                  <ItemMessage \n                    isMe=\"me\"\n                    content=\"That's not an answer..\"\n                    date=\"\"\n                  />\n\n                  <ItemMessage \n                    isMe=\"me\"\n                    content=\"I am tres sorry, what were you saying?\"\n                    date=\"10:21 PM\"\n                  />\n\n                  <ItemMessage \n                    isMe=\"\"\n                    content=\"Great start guys, why can you only talk at certain time on certain days?\"\n                    date=\"11:07 PM\"\n                  />\n                  <ItemMessage \n                    isMe=\"me\"\n                    content=\"hmmmm, Well done all. send me document please\"\n                    date=\"10:21 PM\"\n                  />\n                 \n                  <ItemMessageAttachment \n                    isMe=\"\"\n                    content=\"I am tres sorry, what were you saying?\"\n                    date=\"11:07 PM\"\n                    filename=\"Policy Sheet.pdf\"\n                    capacitty=\"80kb Document\"\n                  />\n\n                  <ItemMessage \n                    isMe=\"me\"\n                    content=\"i have received the .pdf document please send me jpeg file for our requirement..\"\n                    date=\"10:21 PM\"\n                  />\n                  \n                  <div className=\"date\">\n                    <hr />\n                    <span>Today</span>\n                    <hr />\n                  </div> */}\n\n                </div>\n                <div className=\"scroller\" />\n              </div>\n              <div className=\"bottom\">\n                <form className=\"text-area\">\n                    <textarea\n                        id=\"text-message\" className=\"form-control\" placeholder=\"Start typing for reply...\" rows={1} defaultValue={\"\"}\n                        onChange={(e) => this.checkUserEnter(e.target.value, e.target.keyCode)}\n                    />\n                  <div className=\"add-smiles\">\n                    <span title=\"add icon\" className=\"em em-blush\" />\n                  </div>\n                  <div className=\"smiles-bunch\">\n                    <i className=\"em em---1\" />\n                    <i className=\"em em-smiley\" />\n                    <i className=\"em em-anguished\" />\n                    <i className=\"em em-laughing\" />\n                    <i className=\"em em-angry\" />\n                    <i className=\"em em-astonished\" />\n                    <i className=\"em em-blush\" />\n                    <i className=\"em em-disappointed\" />\n                    <i className=\"em em-worried\" />\n                    <i className=\"em em-kissing_heart\" />\n                    <i className=\"em em-rage\" />\n                    <i className=\"em em-stuck_out_tongue\" />\n                    <i className=\"em em-expressionless\" />\n                    <i className=\"em em-bikini\" />\n                    <i className=\"em em-christmas_tree\" />\n                    <i className=\"em em-facepunch\" />\n                    <i className=\"em em-pushpin\" />\n                    <i className=\"em em-tada\" />\n                    <i className=\"em em-us\" />\n                    <i className=\"em em-rose\" />\n                  </div>\n                  <button onClick={this.handleSendMessageFromChanel} style={{ height: '56x', outline: \"none\" }} type=\"submit\" className=\"btn send\"><i className=\"ti-location-arrow\" /></button>\n                </form>\n                <label>\n                  <input type=\"file\" className=\"d-none\" />\n                  <span className=\"btn attach\"><i className=\"ti-clip\" /></span>\n                </label>\n              </div>\n            </div>\n            // <div id=\"call-area\">\n            // </div>\n        )\n    }\n}\n\nexport default ChatServerArea;"]},"metadata":{},"sourceType":"module"}